{"ast":null,"code":"import _objectSpread from\"/Users/matthanson/EmailShortForm_01/swipe-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{TrendingUp,Calendar,Star,ShoppingBag,Briefcase,Baby,X,CheckCircle,Award,Clock,Mail,Send,Sparkles,Paperclip,FileText,ExternalLink,Zap,AlertTriangle}from'lucide-react';import{ParentCard,BusinessCard,ShoppingCard}from'./components/Cards';import{SwipeActionOverlay}from'./components/SwipeActionOverlay';import{BottomSheet}from'./components/BottomSheet';import{FullEmailView}from'./components/FullEmailView';import{ActionCustomizer}from'./components/ActionCustomizer';import{SaveLaterModal}from'./components/SaveLaterModal';import{UnsubscribeModal}from'./components/UnsubscribeModal';import{ProgressCounter}from'./components/ProgressCounter';import{DataModeToggle}from'./components/DataModeToggle';import emailAdapter from'./services/emailAdapter';// Priority Meter Component (liquid glass style)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const PriorityMeter=_ref=>{let{level,label}=_ref;const configs={critical:{fill:100,color:'from-red-500 to-orange-500',glow:'shadow-red-500/50'},high:{fill:75,color:'from-orange-500 to-yellow-500',glow:'shadow-orange-500/50'},medium:{fill:50,color:'from-yellow-500 to-blue-500',glow:'shadow-yellow-500/50'},low:{fill:25,color:'from-blue-500 to-slate-500',glow:'shadow-blue-500/50'}};const config=configs[level]||configs.low;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-xs mb-2 font-medium\",children:label}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-8 bg-white/10 backdrop-blur-md rounded-full overflow-hidden border border-white/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:'absolute inset-y-0 left-0 bg-gradient-to-r '+config.color+' transition-all duration-700 ease-out',style:{width:config.fill+'%'},children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent animate-pulse\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white text-xs font-bold drop-shadow-lg\",children:[config.fill,\"%\"]})})]})]});};const generateReply=card=>{var _card$dataSources$4;if(card.type==='caregiver'){var _card$dataSources$,_card$dataSources$2;const teacherFirstName=((_card$dataSources$=card.dataSources[0])===null||_card$dataSources$===void 0?void 0:_card$dataSources$.from.split(' ')[0])||'there';let body='Hi '+teacherFirstName+',\\n\\n';if(card.requiresSignature){body+='Thank you so much for sending this along! I have reviewed the permission slip for '+card.kid.name+' and I am happy to sign off on it.\\n\\n';if(card.formFields){body+='I have filled out all the required information:\\n';card.formFields.forEach(field=>{body+='• '+field.label+': '+field.autoFillValue+'\\n';});}body+='\\n'+card.kid.name+' is really excited about this trip! Please let me know if you need anything else from me.';}else if(card.priority==='critical'){body+='I just saw your message about '+card.kid.name+'. Thank you for keeping me in the loop! I will make sure to take care of this right away.';}else if(card.title.toLowerCase().includes('test')||card.title.toLowerCase().includes('grade')){body+='Thank you for sharing '+card.kid.name+' progress with me! We are so proud of how hard they have been working.\\n\\nPlease keep us updated on how we can continue supporting their learning at home!';}else{body+='Thanks for this update about '+card.kid.name+'! I really appreciate you keeping me informed.\\n\\nPlease do not hesitate to reach out if there is anything we can do to support from home.';}body+='\\n\\nWarm regards';return{subject:'Re: '+card.title,to:((_card$dataSources$2=card.dataSources[0])===null||_card$dataSources$2===void 0?void 0:_card$dataSources$2.from)||'teacher@school.com',body:body,hasAttachment:card.requiresSignature||false,attachmentName:card.requiresSignature?card.kid.name+'_permission_form_signed.pdf':null};}else if(card.type==='sales_hunter'||card.type==='transactional_leader'||card.type==='project_coordinator'||card.type==='enterprise_innovator'){var _card$contact,_card$sender,_card$dataSources$3;const firstName=((_card$contact=card.contact)===null||_card$contact===void 0?void 0:_card$contact.name.split(' ')[0])||((_card$sender=card.sender)===null||_card$sender===void 0?void 0:_card$sender.name)||'there';let body='Hi '+firstName+',\\n\\n';if(card.priority==='critical'){var _card$company;body+='Thanks so much for your interest! I am really excited about the possibility of helping '+(((_card$company=card.company)===null||_card$company===void 0?void 0:_card$company.name)||'you')+' achieve your goals.\\n\\nI would love to schedule a demo where we can dive into your specific needs.\\n\\nI have a few times available:\\n• Tuesday, 2-4 PM\\n• Wednesday, 10 AM-12 PM\\n• Thursday, 1-3 PM\\n\\nLooking forward to our conversation!';}else{body+='I hope you are doing well! I wanted to follow up on our conversation.\\n\\nDo you have time this week to discuss next steps?\\n\\nThanks again for considering us!';}body+='\\n\\nBest';return{subject:'Re: '+card.title,to:((_card$dataSources$3=card.dataSources[0])===null||_card$dataSources$3===void 0?void 0:_card$dataSources$3.from)||'contact@company.com',body:body,hasAttachment:false};}return{subject:'Re: '+card.title,to:((_card$dataSources$4=card.dataSources[0])===null||_card$dataSources$4===void 0?void 0:_card$dataSources$4.from)||'contact@email.com',body:'Thank you for your message. I will review and get back to you shortly.\\n\\nBest regards',hasAttachment:false};};const ShoppingActionModal=_ref2=>{let{card,onComplete,onCancel}=_ref2;const[isProcessing,setIsProcessing]=useState(false);const handleProceedToStore=()=>{setIsProcessing(true);setTimeout(()=>{onComplete();},800);};const loyaltyPoints=Math.floor(card.salePrice*10);const earnedMiles=Math.floor(card.salePrice*2);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",onClick:e=>{if(e.target===e.currentTarget)onCancel();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl border border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-emerald-600 to-teal-600 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-md\",children:/*#__PURE__*/_jsx(ShoppingBag,{className:\"text-white\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Ready to Purchase\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm\",children:\"Everything pre-filled for you\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-white/80 hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:28})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 overflow-y-auto max-h-[60vh]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl\",children:card.productImage}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white text-xl font-bold mb-1\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:card.store})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-baseline gap-3 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white text-4xl font-bold\",children:[\"$\",card.salePrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-400 text-xl line-through\",children:[\"$\",card.originalPrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold\",children:[card.discount,\"% OFF\"]})]})]}),card.promoCode&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-900 text-xs font-semibold mb-1\",children:\"PROMO CODE PRE-APPLIED\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-900 text-2xl font-mono font-bold\",children:card.promoCode})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/30 text-slate-900 px-4 py-2 rounded-lg font-bold\",children:\"Applied\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-5\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-white font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"text-yellow-400\",size:20}),\"You'll Earn\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Star,{className:\"text-blue-400\",size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-medium\",children:\"Loyalty Points\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-xs\",children:\"Redeemable later\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-xl font-bold\",children:loyaltyPoints})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Zap,{className:\"text-purple-400\",size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-medium\",children:\"Frequent Buyer Miles\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-xs\",children:\"2x miles\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-xl font-bold\",children:earnedMiles})]})]})]}),card.urgent&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Clock,{className:\"text-red-400\",size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-400 font-bold\",children:[\"Expires in \",card.expiresIn]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-300 text-sm\",children:\"Lock in this price now\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-slate-900/50 border-t border-slate-700 flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold\",children:\"Maybe Later\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleProceedToStore,disabled:isProcessing,className:\"flex-1 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2\",children:isProcessing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"}),\"Opening...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ExternalLink,{size:20}),\"Go to \",card.store]})})]})]})});};const ReplyComposer=_ref3=>{let{card,onSend,onCancel}=_ref3;const[reply,setReply]=useState(generateReply(card));const[isSending,setIsSending]=useState(false);const[showFormPreview,setShowFormPreview]=useState(false);const textareaRef=useRef(null);useEffect(()=>{if(textareaRef.current)textareaRef.current.focus();},[]);const handleSend=()=>{setIsSending(true);setTimeout(()=>{onSend();setIsSending(false);},500);};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",onClick:e=>{if(e.target===e.currentTarget)onCancel();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl border border-slate-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(Mail,{className:\"text-white\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Compose Reply\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm\",children:\"AI-generated, ready to edit\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-white/80 hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:28})})]}),card.requiresSignature&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/20 backdrop-blur-md rounded-xl p-3 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"text-white\",size:20}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-sm font-medium\",children:\"Form Auto-filled\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-xs\",children:\"Digital signature included\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFormPreview(!showFormPreview),className:\"text-white/80 hover:text-white text-xs underline\",children:showFormPreview?'Hide':'Preview'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 overflow-y-auto max-h-[60vh]\",children:[showFormPreview&&card.formFields&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-white font-semibold mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sparkles,{size:16,className:\"text-blue-400\"}),\"Auto-filled Form Data\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:card.formFields.map((field,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-slate-400\",children:[field.label,\":\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:field.autoFillValue})]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-slate-400 text-sm font-medium mb-2\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:reply.to,onChange:e=>setReply(_objectSpread(_objectSpread({},reply),{},{to:e.target.value})),className:\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-slate-400 text-sm font-medium mb-2\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reply.subject,onChange:e=>setReply(_objectSpread(_objectSpread({},reply),{},{subject:e.target.value})),className:\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-slate-400 text-sm font-medium\",children:\"Message\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-slate-500 text-xs\",children:[/*#__PURE__*/_jsx(Sparkles,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"AI-generated\"})]})]}),/*#__PURE__*/_jsx(\"textarea\",{ref:textareaRef,value:reply.body,onChange:e=>setReply(_objectSpread(_objectSpread({},reply),{},{body:e.target.value})),className:\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[250px] resize-none\"})]}),reply.hasAttachment&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-4 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Paperclip,{className:\"text-blue-400\",size:20}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-sm font-medium\",children:reply.attachmentName}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-xs\",children:\"Signed form attached\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-slate-900/50 border-t border-slate-700 flex gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onCancel,className:\"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSend,disabled:isSending,className:\"flex-1 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2\",children:isSending?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"}),\"Sending...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{size:20}),\"Send Reply\"]})})]})]})});};const generateInitialCards=()=>{const getTimeAgo=function(daysAgo){let hoursAgo=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(daysAgo===0&&hoursAgo<1)return'Just now';if(daysAgo===0)return hoursAgo+'h ago';if(daysAgo===1)return'Yesterday';if(daysAgo<7)return daysAgo+'d ago';return Math.floor(daysAgo/7)+'w ago';};return[// P1: Transactional Leader\n{id:'tl1',type:'transactional_leader',state:'unseen',priority:'critical',hpa:'Review & Approve',sender:{name:'Finance Dept',initial:'F'},timeAgo:getTimeAgo(0,1),title:'Q4 Budget Approval Required',summary:'Department budget requests need executive sign-off by EOD',metaCTA:'Swipe Right: Quick Approve',dataSources:[{subject:'Budget Approval',from:'finance@company.com',date:getTimeAgo(0,1)}]},{id:'tl2',type:'transactional_leader',state:'unseen',priority:'high',hpa:'Auto-Route',sender:{name:'HR Systems',initial:'H'},timeAgo:getTimeAgo(0,3),title:'New Hire Onboarding - Sarah Chen',summary:'Final approval needed for new Engineering Manager start date',metaCTA:'Swipe Right: Delegate to HR',dataSources:[{subject:'Onboarding Approval',from:'hr@company.com',date:getTimeAgo(0,3)}]},// P2: Sales Hunter  \n{id:'sh1',type:'sales_hunter',state:'unseen',priority:'critical',hpa:'Schedule Demo',company:{name:'TechCorp Industries',initials:'TC'},industry:'SaaS',timeAgo:getTimeAgo(0,3),score:95,value:'$85K',probability:90,contact:{name:'Sarah Chen',initials:'SC',role:'VP Operations'},summary:'Ready to schedule demo, budget approved, decision timeline confirmed',metaCTA:'Swipe Right: Send Demo Times',dataSources:[{subject:'Ready to Move Forward',from:'sarah.chen@techcorp.com',date:getTimeAgo(0,3)}]},{id:'sh2',type:'sales_hunter',state:'unseen',priority:'critical',hpa:'Route to CRM',company:{name:'DataFlow Systems',initials:'DF'},industry:'Analytics',timeAgo:getTimeAgo(0,5),score:88,value:'$120K',probability:85,contact:{name:'James Wilson',initials:'JW',role:'CTO'},summary:'RFP due Friday - requesting proposal submission',metaCTA:'Swipe Right: Route to CRM & Tag Urgent',dataSources:[{subject:'RFP Submission',from:'j.wilson@dataflow.com',date:getTimeAgo(0,5)}]},// P3: Project Coordinator\n{id:'pc1',type:'project_coordinator',state:'unseen',priority:'critical',hpa:'Schedule Review',project:{name:'Website Redesign',code:'WR-2024'},client:{name:'Acme Corp',initials:'AC'},timeAgo:getTimeAgo(0,2),title:'Client Milestone Review - Due Friday',summary:'Design mockups need approval before development phase begins',metaCTA:'Swipe Right: Schedule Review',dataSources:[{subject:'Milestone Approval',from:'client@acme.com',date:getTimeAgo(0,2)}]},{id:'pc2',type:'project_coordinator',state:'unseen',priority:'high',hpa:'File by Project',project:{name:'Mobile App Launch',code:'MAL-2024'},client:{name:'Beta Users',initials:'B'},timeAgo:getTimeAgo(0,4),title:'Beta Testing Feedback Summary',summary:'47 users submitted feedback, 3 critical bugs identified',metaCTA:'Swipe Left: Tag & File by Project',dataSources:[{subject:'Beta Feedback',from:'testing@company.com',date:getTimeAgo(0,4)}]},// P4: Enterprise Innovator\n{id:'ei1',type:'enterprise_innovator',state:'unseen',priority:'medium',hpa:'Save for Later',source:{name:'MIT Tech Review',initials:'MT'},timeAgo:getTimeAgo(1),title:'AI Trends Report Q4 2024',summary:'Comprehensive analysis of emerging AI technologies and market applications',metaCTA:'Swipe Left: Save for Deep Read',dataSources:[{subject:'Industry Newsletter',from:'newsletter@mittr.com',date:getTimeAgo(1)}]},{id:'ei2',type:'enterprise_innovator',state:'unseen',priority:'high',hpa:'Express Interest',source:{name:'Innovation Labs',initials:'IL'},timeAgo:getTimeAgo(0,6),title:'Partnership Opportunity - Stanford Research',summary:'Joint research proposal on next-gen ML applications',metaCTA:'Swipe Right: Express Interest',dataSources:[{subject:'Partnership Inquiry',from:'labs@stanford.edu',date:getTimeAgo(0,6)}]},// C1: Time-Crunched Caregiver\n{id:'cc1',type:'caregiver',state:'unseen',priority:'critical',hpa:'Sign & Send',kid:{name:'Sophie Martinez',initial:'S',grade:'3rd Grade'},timeAgo:getTimeAgo(0,2),title:'Field Trip Permission - Due Wednesday',summary:'Museum visit Friday requires signed form by Wed 5 PM',metaCTA:'Swipe Right: Quick Sign & Send',requiresSignature:true,formFields:[{label:'Student Name',autoFillValue:'Sophie Martinez'},{label:'Parent/Guardian',autoFillValue:'Parent Name'},{label:'Emergency Contact',autoFillValue:'(555) 123-4567'}],dataSources:[{subject:'Field Trip Permission',from:'Mrs. Anderson',date:getTimeAgo(0,2)}]},{id:'cc2',type:'caregiver',state:'unseen',priority:'high',hpa:'Acknowledge',kid:{name:'Max Rodriguez',initial:'M',grade:'6th Grade'},timeAgo:getTimeAgo(0,5),title:'Assignment Past Due - Math Homework',summary:'Homework from last week not submitted, submit by Friday for partial credit',metaCTA:'Swipe Right: Acknowledge & Confirm',dataSources:[{subject:'Missing Assignment Alert',from:'Mr. Thompson',date:getTimeAgo(0,5)}]},// C2: Savvy Deal Stacker\n{id:'ds1',type:'deal_stacker',state:'unseen',priority:'high',hpa:'Claim Deal',store:'TechMart',timeAgo:getTimeAgo(0,1),title:'Flash Sale: Premium Headphones',productImage:'Headphones',aiBackground:'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',originalPrice:299.99,salePrice:149.99,discount:50,urgent:true,expiresIn:'6 hours',metaCTA:'Swipe Right: Claim Deal Now',promoCode:'AUDIO50',features:['50% off','Free shipping'],dataSources:[{subject:'FLASH SALE',from:'deals@techmart.com',date:getTimeAgo(0,1)}]},{id:'ds2',type:'deal_stacker',state:'unseen',priority:'low',hpa:'Not Interested',store:'FashionHub',timeAgo:getTimeAgo(1),title:'Extra 30% Off Fall Collection',productImage:'Apparel',aiBackground:'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',originalPrice:120.00,salePrice:59.99,discount:50,urgent:false,expiresIn:'3 days',metaCTA:'Swipe Left: Dismiss',features:['Stacks with sale','Free shipping $50+'],dataSources:[{subject:'Fall Sale',from:'style@fashionhub.com',date:getTimeAgo(1)}]},// Add some low priority items to other archetypes\n{id:'tl3',type:'transactional_leader',state:'unseen',priority:'low',hpa:'File for Reference',sender:{name:'IT Updates',initial:'I'},timeAgo:getTimeAgo(2),title:'Monthly Security Report',summary:'Routine security metrics and system updates for your review',metaCTA:'Swipe Left: File for Reference',dataSources:[{subject:'Security Report',from:'security@company.com',date:getTimeAgo(2)}]},{id:'cc3',type:'caregiver',state:'unseen',priority:'low',hpa:'Archive',kid:{name:'Sophie Martinez',initial:'S',grade:'3rd Grade'},timeAgo:getTimeAgo(3),title:'Weekly Newsletter',summary:'School newsletter with upcoming events and general announcements',metaCTA:'Swipe Left: Archive',dataSources:[{subject:'Weekly Newsletter',from:'newsletter@school.edu',date:getTimeAgo(3)}]},// C3: Global Status Seeker\n{id:'ss1',type:'status_seeker',state:'unseen',priority:'critical',hpa:'Check In Now',airline:'United Airlines',timeAgo:getTimeAgo(0,1),title:'Flight Check-in Available - SFO to NYC',summary:'Check in now for tomorrow\\'s 6:45 AM departure, upgrade available',metaCTA:'Swipe Right: Check In & Upgrade',flightDetails:{number:'UA 1234',from:'SFO',to:'JFK',date:'Tomorrow 6:45 AM'},dataSources:[{subject:'Check-in Available',from:'united@airlines.com',date:getTimeAgo(0,1)}]},{id:'ss2',type:'status_seeker',state:'unseen',priority:'high',hpa:'Enroll Now',airline:'Marriott Bonvoy',timeAgo:getTimeAgo(0,3),title:'Elite Status Challenge Opportunity',summary:'Fast-track to Platinum status with 10 qualifying stays',metaCTA:'Swipe Right: Enroll Now',dataSources:[{subject:'Status Challenge',from:'bonvoy@marriott.com',date:getTimeAgo(0,3)}]},// C4: Digital Identity Manager\n{id:'idm1',type:'identity_manager',state:'unseen',priority:'critical',hpa:'Verify Identity',service:'Amazon',timeAgo:getTimeAgo(0,0),title:'Password Reset Request',summary:'Someone requested a password reset for your account',metaCTA:'Swipe Right: Verify Identity',security:true,expiresIn:'15 minutes',dataSources:[{subject:'Password Reset',from:'security@amazon.com',date:getTimeAgo(0,0)}]},{id:'idm2',type:'identity_manager',state:'unseen',priority:'high',hpa:'Confirm or Deny',service:'PayPal',timeAgo:getTimeAgo(0,2),title:'New Device Login Detected',summary:'Login from iPhone in San Francisco, CA',metaCTA:'Swipe Right: Confirm or Deny',security:true,dataSources:[{subject:'Security Alert',from:'security@paypal.com',date:getTimeAgo(0,2)}]}];};const Dashboard=_ref4=>{let{type,cards,onViewFeed}=_ref4;const typeCards=cards.filter(c=>c.type===type&&c.state!=='dismissed');const criticalCount=typeCards.filter(c=>c.priority==='critical').length;const highCount=typeCards.filter(c=>c.priority==='high').length;const unseenCount=typeCards.filter(c=>c.state==='unseen').length;const configs={transactional_leader:{title:'Executive Inbox',subtitle:'Transactional Leader',icon:Briefcase,gradient:'from-slate-800 via-slate-700 to-slate-900'},sales_hunter:{title:'Job (Sales)',subtitle:'Sales Pipeline',icon:TrendingUp,gradient:'from-slate-900 via-blue-900 to-indigo-900'},project_coordinator:{title:'Project Hub',subtitle:'Project Coordinator',icon:Calendar,gradient:'from-teal-700 via-cyan-700 to-blue-800'},enterprise_innovator:{title:'Learning Feed',subtitle:'Learning',icon:Sparkles,gradient:'from-purple-800 via-violet-800 to-indigo-900'},caregiver:{title:'Family Inbox',subtitle:'Time-Crunched Caregiver',icon:Baby,gradient:'from-indigo-600 via-purple-600 to-pink-600'},deal_stacker:{title:'Deals Inbox',subtitle:'Savvy Deal Stacker',icon:ShoppingBag,gradient:'from-emerald-600 via-teal-600 to-cyan-600'},status_seeker:{title:'Travel Hub',subtitle:'Global Status Seeker',icon:Award,gradient:'from-amber-600 via-orange-600 to-red-600'},identity_manager:{title:'Security Center',subtitle:'Digital Identity Manager',icon:AlertTriangle,gradient:'from-red-700 via-rose-700 to-pink-700'}};const config=configs[type];const Icon=config.icon;return/*#__PURE__*/_jsxs(\"div\",{className:'min-h-screen bg-gradient-to-br '+config.gradient+' p-6',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/30\",children:/*#__PURE__*/_jsx(Icon,{className:\"text-white\",size:28})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:config.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/70 text-sm\",children:config.subtitle})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/10 backdrop-blur-md rounded-2xl p-5 mb-6 border border-white/20 shadow-xl\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white/80 text-sm mb-4 font-medium\",children:\"Priority Distribution\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(PriorityMeter,{level:\"critical\",label:'Critical ('+criticalCount+')'}),/*#__PURE__*/_jsx(PriorityMeter,{level:\"high\",label:'High ('+highCount+')'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-white mb-1\",children:criticalCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-sm\",children:\"Critical\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-white mb-1\",children:unseenCount}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-sm\",children:\"Unseen\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-white mb-1\",children:typeCards.length}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white/70 text-sm\",children:\"Total\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onViewFeed,className:\"w-full bg-white/20 backdrop-blur-md hover:bg-white/30 text-white py-4 rounded-2xl font-bold text-lg mb-4 border border-white/30 shadow-lg transition-all\",children:[\"View Feed (\",typeCards.length,\" items)\"]})]});};// Helper functions\nconst extractDomain=email=>{try{var _email$split$;return((_email$split$=email.split('@')[1])===null||_email$split$===void 0?void 0:_email$split$.toLowerCase())||'';}catch(_unused){return'';}};const isPromotionalSender=domain=>{const promotionalKeywords=['deals','offers','sale','promo','marketing','newsletter','noreply'];return promotionalKeywords.some(keyword=>domain.includes(keyword));};const App=()=>{var _configs$activeType,_currentCard$dataSour;const[view,setView]=useState('feed');const[activeType,setActiveType]=useState('caregiver');const[cards,setCards]=useState(generateInitialCards());const[currentIndex,setCurrentIndex]=useState(0);const[dragStart,setDragStart]=useState({x:0,y:0});const[dragOffset,setDragOffset]=useState({x:0,y:0});const[isDragging,setIsDragging]=useState(false);const[showComposer,setShowComposer]=useState(false);const[showShoppingModal,setShowShoppingModal]=useState(false);const[showBottomSheet,setShowBottomSheet]=useState(false);const[showFullEmail,setShowFullEmail]=useState(false);const[showActionCustomizer,setShowActionCustomizer]=useState(false);const[showSaveLater,setShowSaveLater]=useState(false);const[showUnsubscribe,setShowUnsubscribe]=useState(false);const[currentCard,setCurrentCard]=useState(null);const[showUndo,setShowUndo]=useState(false);const[lastAction,setLastAction]=useState(null);const[skipTracker,setSkipTracker]=useState({});// Track skips by sender domain\nconst[interactionCount,setInteractionCount]=useState(0);// Track user interactions for tutorial\nconst[demoMode,setDemoMode]=useState(true);// Demo vs real data mode\nconst[selectedAccount,setSelectedAccount]=useState('hanson@rationalework');const[availableAccounts]=useState([{email:'hanson@rationalework',displayName:'Hanson (Work)'},{email:'thematthanson@gmail.com',displayName:'Matt (Personal)'}]);const archetypes=['caregiver','transactional_leader','sales_hunter','project_coordinator','enterprise_innovator','deal_stacker','status_seeker','identity_manager'];const filteredCards=cards.filter(c=>c.type===activeType&&c.state!=='dismissed'&&c.state!=='deleted'&&c.state!=='archived');// Archetype configs for naming\nconst configs={transactional_leader:{title:'Executive Inbox'},sales_hunter:{title:'Job (Sales)'},project_coordinator:{title:'Project Hub'},enterprise_innovator:{title:'Learning Feed'},caregiver:{title:'Family Inbox'},deal_stacker:{title:'Deals Inbox'},status_seeker:{title:'Travel Hub'},identity_manager:{title:'Security Center'}};const SNAP_THRESHOLD=200;const SNAP_ZONE=20;// Load emails when mode or account changes\nuseEffect(()=>{const loadEmails=async()=>{try{emailAdapter.setDemoMode(demoMode);if(!demoMode){emailAdapter.setUserEmail(selectedAccount);}const emails=await emailAdapter.getEmails(50);setCards(emails);setCurrentIndex(0);}catch(error){console.error('Error loading emails:',error);// Fallback to demo mode on error\nsetDemoMode(true);setCards(generateInitialCards());}};loadEmails();},[demoMode,selectedAccount]);useEffect(()=>{if(view==='feed'&&filteredCards[currentIndex]){const card=filteredCards[currentIndex];if(card.state==='unseen'){setCards(prev=>prev.map(c=>c.id===card.id?_objectSpread(_objectSpread({},c),{},{state:'seen'}):c));}}},[currentIndex,view,filteredCards]);const switchArchetype=direction=>{const currentIdx=archetypes.indexOf(activeType);let newIdx;if(direction==='next'){newIdx=(currentIdx+1)%archetypes.length;}else{newIdx=(currentIdx-1+archetypes.length)%archetypes.length;}setActiveType(archetypes[newIdx]);setCurrentIndex(0);};const handleUndo=()=>{if(lastAction){setCards(prev=>prev.map(c=>c.id===lastAction.cardId?_objectSpread(_objectSpread({},c),{},{state:lastAction.previousState}):c));setShowUndo(false);setLastAction(null);}};const handleSwipeAction=(direction,isLong)=>{const card=filteredCards[currentIndex];if(!card)return;let newState;let actionLabel;if(direction==='right'){if(isLong){// Long right = Action Modal (for complex actions)\nif(card.type==='deal_stacker'||card.type==='status_seeker'){setCurrentCard(card);setShowShoppingModal(true);return;}else{setCurrentCard(card);setShowComposer(true);return;}}else{// Short right = Mark as Read (safe action)\nnewState='read';actionLabel='👁️ Marked as Read';}}else if(direction==='left'){// Track skips for unsubscribe detection\nif(!isLong){var _card$dataSources$5;const senderDomain=extractDomain(((_card$dataSources$5=card.dataSources[0])===null||_card$dataSources$5===void 0?void 0:_card$dataSources$5.from)||'');if(senderDomain){const newSkipCount=(skipTracker[senderDomain]||0)+1;setSkipTracker(prev=>_objectSpread(_objectSpread({},prev),{},{[senderDomain]:newSkipCount}));// Check if we should show unsubscribe modal\nif(newSkipCount>=3&&isPromotionalSender(senderDomain)){setCurrentCard(_objectSpread(_objectSpread({},card),{},{senderDomain,skipCount:newSkipCount}));setShowUnsubscribe(true);return;}}}if(isLong){newState='dismissed';actionLabel='✕ Dismissed';}else{newState='processed';actionLabel='✓ Processed';}}setLastAction({cardId:card.id,previousState:card.state,action:actionLabel});setCards(prev=>prev.map(c=>c.id===card.id?_objectSpread(_objectSpread({},c),{},{state:newState}):c));// Increment interaction count for tutorial fade\nsetInteractionCount(prev=>prev+1);setShowUndo(true);setTimeout(()=>setShowUndo(false),3000);moveToNext();};const moveToNext=()=>{setTimeout(()=>{if(currentIndex<filteredCards.length-1){setCurrentIndex(prev=>prev+1);}else{switchArchetype('next');}},300);};const handleSendReply=()=>{setCards(prev=>prev.map(c=>c.id===currentCard.id?_objectSpread(_objectSpread({},c),{},{state:'replied'}):c));setShowComposer(false);setCurrentCard(null);moveToNext();};const handleShoppingComplete=()=>{setCards(prev=>prev.map(c=>c.id===currentCard.id?_objectSpread(_objectSpread({},c),{},{state:'converted'}):c));setShowShoppingModal(false);setCurrentCard(null);moveToNext();};const handleCustomizeAction=card=>{setCurrentCard(card);setShowActionCustomizer(true);};const handleSaveAction=newAction=>{if(currentCard){setCards(prev=>prev.map(c=>c.id===currentCard.id?_objectSpread(_objectSpread({},c),{},{hpa:newAction}):c));}setShowActionCustomizer(false);setCurrentCard(null);};const handleSaveLater=snoozeData=>{if(currentCard){setCards(prev=>prev.map(c=>c.id===currentCard.id?_objectSpread(_objectSpread({},c),{},{state:'snoozed',snoozeUntil:snoozeData.scheduledFor}):c));}setShowSaveLater(false);setCurrentCard(null);moveToNext();};const handleDragStart=e=>{const clientX=e.type==='mousedown'?e.clientX:e.touches[0].clientX;const clientY=e.type==='mousedown'?e.clientY:e.touches[0].clientY;setDragStart({x:clientX,y:clientY});setIsDragging(true);};const handleDragMove=e=>{if(!isDragging)return;const clientX=e.type==='mousemove'?e.clientX:e.touches[0].clientX;const clientY=e.type==='mousemove'?e.clientY:e.touches[0].clientY;let offsetX=clientX-dragStart.x;const offsetY=clientY-dragStart.y;const absOffsetX=Math.abs(offsetX);const prevAbsOffsetX=Math.abs(dragOffset.x);// Magnetic snapping with haptic feedback\nif(absOffsetX>SNAP_THRESHOLD-SNAP_ZONE&&absOffsetX<SNAP_THRESHOLD+SNAP_ZONE){const snapDirection=offsetX>0?1:-1;offsetX=(SNAP_THRESHOLD+10)*snapDirection;if(prevAbsOffsetX<SNAP_THRESHOLD-SNAP_ZONE||prevAbsOffsetX>SNAP_THRESHOLD+SNAP_ZONE){if(navigator.vibrate){navigator.vibrate(10);}}}// Haptic feedback at short swipe threshold\nif(absOffsetX>100&&prevAbsOffsetX<=100){if(navigator.vibrate){navigator.vibrate(5);}}setDragOffset({x:offsetX,y:offsetY});};const handleDragEnd=()=>{setIsDragging(false);const isHorizontal=Math.abs(dragOffset.x)>Math.abs(dragOffset.y);const isLongSwipe=Math.abs(dragOffset.x)>200;if(isHorizontal&&Math.abs(dragOffset.x)>100){// Haptic feedback on action confirmation\nif(navigator.vibrate){if(isLongSwipe){navigator.vibrate([15,10,15]);}else{navigator.vibrate(20);}}handleSwipeAction(dragOffset.x>0?'right':'left',isLongSwipe);}else if(!isHorizontal&&Math.abs(dragOffset.y)>100){if(dragOffset.y<0){setCurrentIndex(prev=>Math.min(prev+1,filteredCards.length-1));}else{setCurrentIndex(prev=>Math.max(prev-1,0));}}setDragOffset({x:0,y:0});};// Dashboard view with archetype selection\nif(view==='dashboard'){const archetypeGroups=[{label:'Professional',archetypes:[{id:'transactional_leader',label:'Executive',icon:Briefcase},{id:'sales_hunter',label:'Job (Sales)',icon:TrendingUp},{id:'project_coordinator',label:'Projects',icon:Calendar},{id:'enterprise_innovator',label:'Learning',icon:Sparkles}]},{label:'Consumer',archetypes:[{id:'caregiver',label:'Family',icon:Baby},{id:'deal_stacker',label:'Shopping',icon:ShoppingBag},{id:'status_seeker',label:'Travel',icon:Award},{id:'identity_manager',label:'Security',icon:AlertTriangle}]}];return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-screen bg-slate-950 overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-900 border-b border-slate-800 sticky top-0 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-lg font-bold mb-3\",children:\"Select Archetype\"}),archetypeGroups.map(group=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-xs font-semibold mb-2 uppercase tracking-wide\",children:group.label}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-4 gap-2\",children:group.archetypes.map(type=>{const Icon=type.icon;const typeCards=cards.filter(c=>c.type===type.id&&c.state!=='dismissed');return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveType(type.id),className:'flex flex-col items-center justify-center gap-2 py-4 px-3 rounded-xl font-medium transition-all '+(activeType===type.id?'bg-blue-600 text-white scale-105':'bg-slate-800 text-slate-400 hover:bg-slate-700'),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:type.label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs opacity-70\",children:typeCards.length})]},type.id);})})]},group.label))]})}),/*#__PURE__*/_jsx(Dashboard,{type:activeType,cards:cards,onViewFeed:()=>setView('feed')})]});}// Inbox Zero state\nif(filteredCards.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-screen bg-slate-950 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(CheckCircle,{size:64,className:\"text-green-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-2\",children:\"Inbox Zero!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-400 mb-4\",children:[\"All \",activeType,\" items processed\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('dashboard'),className:\"bg-slate-700 text-white px-6 py-3 rounded-xl font-semibold\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>switchArchetype('next'),className:\"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold\",children:\"Next Archetype\"})]})]})});}// Calculate progress\nconst totalEmails=cards.length;const processedEmails=cards.filter(c=>['read','processed','dismissed','replied','converted'].includes(c.state)).length;// Main swipe feed\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-screen bg-slate-950\",children:[/*#__PURE__*/_jsx(DataModeToggle,{demoMode:demoMode,onToggle:setDemoMode,availableAccounts:availableAccounts,selectedAccount:selectedAccount,onAccountChange:setSelectedAccount,isAuthenticated:true// Will check real auth status later\n}),/*#__PURE__*/_jsx(ProgressCounter,{totalEmails:totalEmails,processedEmails:processedEmails,currentArchetype:activeType,archetypeName:((_configs$activeType=configs[activeType])===null||_configs$activeType===void 0?void 0:_configs$activeType.title)||'Unknown',onOpenBottomSheet:()=>setShowBottomSheet(true),onPrevArchetype:()=>switchArchetype('prev'),onNextArchetype:()=>switchArchetype('next')}),showComposer&&currentCard&&/*#__PURE__*/_jsx(ReplyComposer,{card:currentCard,onSend:handleSendReply,onCancel:()=>{setShowComposer(false);setCurrentCard(null);}}),showShoppingModal&&currentCard&&/*#__PURE__*/_jsx(ShoppingActionModal,{card:currentCard,onComplete:handleShoppingComplete,onCancel:()=>{setShowShoppingModal(false);setCurrentCard(null);}}),showBottomSheet&&/*#__PURE__*/_jsx(BottomSheet,{isOpen:showBottomSheet,onClose:()=>setShowBottomSheet(false),activeArchetype:activeType,onArchetypeChange:setActiveType,cards:cards,currentEmail:filteredCards[currentIndex]}),showFullEmail&&currentCard&&/*#__PURE__*/_jsx(FullEmailView,{email:currentCard,onClose:()=>{setShowFullEmail(false);setCurrentCard(null);},onReply:()=>{setShowFullEmail(false);setShowComposer(true);},onArchive:()=>{setShowFullEmail(false);handleSwipeAction('left',false);},onDelete:()=>{setShowFullEmail(false);handleSwipeAction('left',true);}}),showActionCustomizer&&currentCard&&/*#__PURE__*/_jsx(ActionCustomizer,{email:currentCard,currentAction:currentCard.hpa,onSave:handleSaveAction,onCancel:()=>{setShowActionCustomizer(false);setCurrentCard(null);}}),showSaveLater&&currentCard&&/*#__PURE__*/_jsx(SaveLaterModal,{email:currentCard,onSave:handleSaveLater,onCancel:()=>{setShowSaveLater(false);setCurrentCard(null);}}),showUnsubscribe&&currentCard&&/*#__PURE__*/_jsx(UnsubscribeModal,{senderInfo:{domain:currentCard.senderDomain,email:(_currentCard$dataSour=currentCard.dataSources[0])===null||_currentCard$dataSour===void 0?void 0:_currentCard$dataSour.from},skipCount:currentCard.skipCount,onUnsubscribe:()=>{setShowUnsubscribe(false);setCurrentCard(null);},onHide:()=>{setShowUnsubscribe(false);setCurrentCard(null);},onKeep:()=>{setShowUnsubscribe(false);setCurrentCard(null);},onCancel:()=>{setShowUnsubscribe(false);setCurrentCard(null);}}),showUndo&&lastAction&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-slate-800 backdrop-blur-md text-white px-6 py-4 rounded-2xl shadow-2xl border border-slate-700 flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:lastAction.action}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUndo,className:\"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-semibold\",children:\"Undo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-full\",onMouseDown:handleDragStart,onMouseMove:handleDragMove,onMouseUp:handleDragEnd,onTouchStart:handleDragStart,onTouchMove:handleDragMove,onTouchEnd:handleDragEnd,children:[filteredCards.map((card,index)=>{const offset=(index-currentIndex)*100;const adjustedOffsetY=offset+(isDragging?dragOffset.y/window.innerHeight*100:0);const adjustedOffsetX=isDragging?dragOffset.x:0;const isHorizontal=Math.abs(dragOffset.x)>Math.abs(dragOffset.y);const rotation=isDragging&&index===currentIndex?dragOffset.x/20:0;return/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",style:{transform:'translateY('+adjustedOffsetY+'%) translateX('+adjustedOffsetX+'px) rotate('+rotation+'deg) scale('+(1-Math.abs(index-currentIndex)*0.05)+')',opacity:Math.abs(index-currentIndex)>1?0:1,zIndex:filteredCards.length-Math.abs(index-currentIndex),transition:isDragging?'none':'transform 0.3s, opacity 0.3s'},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full max-w-2xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-full\",children:[card.type==='caregiver'&&/*#__PURE__*/_jsx(ParentCard,{card:card,isSeen:card.state!=='unseen',onViewEmail:()=>{setCurrentCard(card);setShowFullEmail(true);},onCustomizeAction:handleCustomizeAction}),(card.type==='sales_hunter'||card.type==='transactional_leader'||card.type==='project_coordinator'||card.type==='enterprise_innovator'||card.type==='identity_manager')&&/*#__PURE__*/_jsx(BusinessCard,{card:card,isSeen:card.state!=='unseen',onViewEmail:()=>{setCurrentCard(card);setShowFullEmail(true);},onCustomizeAction:handleCustomizeAction}),(card.type==='deal_stacker'||card.type==='status_seeker')&&/*#__PURE__*/_jsx(ShoppingCard,{card:card,isSeen:card.state!=='unseen',onViewEmail:()=>{setCurrentCard(card);setShowFullEmail(true);},onCustomizeAction:handleCustomizeAction}),index===currentIndex&&isHorizontal&&Math.abs(dragOffset.x)>50&&/*#__PURE__*/_jsx(SwipeActionOverlay,{direction:dragOffset.x>0?'right':'left',cardType:card.type,swipeDistance:dragOffset.x})]})})},card.id);}),interactionCount<3&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 backdrop-blur-md px-6 py-2 rounded-full text-white text-xs z-50 border border-white/20 transition-opacity duration-500\",style:{opacity:Math.max(0,1-interactionCount/3)},children:\"\\uD83D\\uDC41\\uFE0F Right: Mark Seen \\u2022 \\u2713 Left: Done \\u2022 Long Swipe: Action/Skip\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","TrendingUp","Calendar","Star","ShoppingBag","Briefcase","Baby","X","CheckCircle","Award","Clock","Mail","Send","Sparkles","Paperclip","FileText","ExternalLink","Zap","AlertTriangle","ParentCard","BusinessCard","ShoppingCard","SwipeActionOverlay","BottomSheet","FullEmailView","ActionCustomizer","SaveLaterModal","UnsubscribeModal","ProgressCounter","DataModeToggle","emailAdapter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PriorityMeter","_ref","level","label","configs","critical","fill","color","glow","high","medium","low","config","className","children","style","width","generateReply","card","_card$dataSources$4","type","_card$dataSources$","_card$dataSources$2","teacherFirstName","dataSources","from","split","body","requiresSignature","kid","name","formFields","forEach","field","autoFillValue","priority","title","toLowerCase","includes","subject","to","hasAttachment","attachmentName","_card$contact","_card$sender","_card$dataSources$3","firstName","contact","sender","_card$company","company","ShoppingActionModal","_ref2","onComplete","onCancel","isProcessing","setIsProcessing","handleProceedToStore","setTimeout","loyaltyPoints","Math","floor","salePrice","earnedMiles","onClick","e","target","currentTarget","size","productImage","store","originalPrice","discount","promoCode","urgent","expiresIn","disabled","ReplyComposer","_ref3","onSend","reply","setReply","isSending","setIsSending","showFormPreview","setShowFormPreview","textareaRef","current","focus","handleSend","map","i","value","onChange","_objectSpread","ref","generateInitialCards","getTimeAgo","daysAgo","hoursAgo","arguments","length","undefined","id","state","hpa","initial","timeAgo","summary","metaCTA","date","initials","industry","score","probability","role","project","code","client","source","grade","aiBackground","features","airline","flightDetails","number","service","security","Dashboard","_ref4","cards","onViewFeed","typeCards","filter","c","criticalCount","highCount","unseenCount","transactional_leader","subtitle","icon","gradient","sales_hunter","project_coordinator","enterprise_innovator","caregiver","deal_stacker","status_seeker","identity_manager","Icon","extractDomain","email","_email$split$","_unused","isPromotionalSender","domain","promotionalKeywords","some","keyword","App","_configs$activeType","_currentCard$dataSour","view","setView","activeType","setActiveType","setCards","currentIndex","setCurrentIndex","dragStart","setDragStart","x","y","dragOffset","setDragOffset","isDragging","setIsDragging","showComposer","setShowComposer","showShoppingModal","setShowShoppingModal","showBottomSheet","setShowBottomSheet","showFullEmail","setShowFullEmail","showActionCustomizer","setShowActionCustomizer","showSaveLater","setShowSaveLater","showUnsubscribe","setShowUnsubscribe","currentCard","setCurrentCard","showUndo","setShowUndo","lastAction","setLastAction","skipTracker","setSkipTracker","interactionCount","setInteractionCount","demoMode","setDemoMode","selectedAccount","setSelectedAccount","availableAccounts","displayName","archetypes","filteredCards","SNAP_THRESHOLD","SNAP_ZONE","loadEmails","setUserEmail","emails","getEmails","error","console","prev","switchArchetype","direction","currentIdx","indexOf","newIdx","handleUndo","cardId","previousState","handleSwipeAction","isLong","newState","actionLabel","_card$dataSources$5","senderDomain","newSkipCount","skipCount","action","moveToNext","handleSendReply","handleShoppingComplete","handleCustomizeAction","handleSaveAction","newAction","handleSaveLater","snoozeData","snoozeUntil","scheduledFor","handleDragStart","clientX","touches","clientY","handleDragMove","offsetX","offsetY","absOffsetX","abs","prevAbsOffsetX","snapDirection","navigator","vibrate","handleDragEnd","isHorizontal","isLongSwipe","min","max","archetypeGroups","group","totalEmails","processedEmails","onToggle","onAccountChange","isAuthenticated","currentArchetype","archetypeName","onOpenBottomSheet","onPrevArchetype","onNextArchetype","isOpen","onClose","activeArchetype","onArchetypeChange","currentEmail","onReply","onArchive","onDelete","currentAction","onSave","senderInfo","onUnsubscribe","onHide","onKeep","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","index","offset","adjustedOffsetY","window","innerHeight","adjustedOffsetX","rotation","transform","opacity","zIndex","transition","isSeen","onViewEmail","onCustomizeAction","cardType","swipeDistance"],"sources":["/Users/matthanson/EmailShortForm_01/swipe-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { TrendingUp, Calendar, Star, ShoppingBag, Briefcase, Baby, X, CheckCircle, Award, Clock, Mail, Send, Sparkles, Paperclip, FileText, ExternalLink, Zap, AlertTriangle } from 'lucide-react';\nimport { ParentCard, BusinessCard, ShoppingCard } from './components/Cards';\nimport { SwipeActionOverlay } from './components/SwipeActionOverlay';\nimport { BottomSheet } from './components/BottomSheet';\nimport { FullEmailView } from './components/FullEmailView';\nimport { ActionCustomizer } from './components/ActionCustomizer';\nimport { SaveLaterModal } from './components/SaveLaterModal';\nimport { UnsubscribeModal } from './components/UnsubscribeModal';\nimport { ProgressCounter } from './components/ProgressCounter';\nimport { DataModeToggle } from './components/DataModeToggle';\nimport emailAdapter from './services/emailAdapter';\n\n// Priority Meter Component (liquid glass style)\nconst PriorityMeter = ({ level, label }) => {\n  const configs = {\n    critical: { fill: 100, color: 'from-red-500 to-orange-500', glow: 'shadow-red-500/50' },\n    high: { fill: 75, color: 'from-orange-500 to-yellow-500', glow: 'shadow-orange-500/50' },\n    medium: { fill: 50, color: 'from-yellow-500 to-blue-500', glow: 'shadow-yellow-500/50' },\n    low: { fill: 25, color: 'from-blue-500 to-slate-500', glow: 'shadow-blue-500/50' }\n  };\n\n  const config = configs[level] || configs.low;\n\n  return (\n    <div className=\"relative w-full\">\n      <div className=\"text-white/70 text-xs mb-2 font-medium\">{label}</div>\n      <div className=\"relative h-8 bg-white/10 backdrop-blur-md rounded-full overflow-hidden border border-white/20\">\n        <div \n          className={'absolute inset-y-0 left-0 bg-gradient-to-r ' + config.color + ' transition-all duration-700 ease-out'}\n          style={{ width: config.fill + '%' }}\n        >\n          <div className=\"absolute inset-0 opacity-30\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent animate-pulse\" />\n          </div>\n        </div>\n        <div className=\"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent\" />\n        <div className=\"absolute inset-0 flex items-center justify-center\">\n          <span className=\"text-white text-xs font-bold drop-shadow-lg\">{config.fill}%</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst generateReply = (card) => {\n  if (card.type === 'caregiver') {\n    const teacherFirstName = card.dataSources[0]?.from.split(' ')[0] || 'there';\n    let body = 'Hi ' + teacherFirstName + ',\\n\\n';\n    \n    if (card.requiresSignature) {\n      body += 'Thank you so much for sending this along! I have reviewed the permission slip for ' + card.kid.name + ' and I am happy to sign off on it.\\n\\n';\n      if (card.formFields) {\n        body += 'I have filled out all the required information:\\n';\n        card.formFields.forEach(field => {\n          body += '• ' + field.label + ': ' + field.autoFillValue + '\\n';\n        });\n      }\n      body += '\\n' + card.kid.name + ' is really excited about this trip! Please let me know if you need anything else from me.';\n    } else if (card.priority === 'critical') {\n      body += 'I just saw your message about ' + card.kid.name + '. Thank you for keeping me in the loop! I will make sure to take care of this right away.';\n    } else if (card.title.toLowerCase().includes('test') || card.title.toLowerCase().includes('grade')) {\n      body += 'Thank you for sharing ' + card.kid.name + ' progress with me! We are so proud of how hard they have been working.\\n\\nPlease keep us updated on how we can continue supporting their learning at home!';\n    } else {\n      body += 'Thanks for this update about ' + card.kid.name + '! I really appreciate you keeping me informed.\\n\\nPlease do not hesitate to reach out if there is anything we can do to support from home.';\n    }\n    \n    body += '\\n\\nWarm regards';\n    \n    return {\n      subject: 'Re: ' + card.title,\n      to: card.dataSources[0]?.from || 'teacher@school.com',\n      body: body,\n      hasAttachment: card.requiresSignature || false,\n      attachmentName: card.requiresSignature ? card.kid.name + '_permission_form_signed.pdf' : null\n    };\n  } else if (card.type === 'sales_hunter' || card.type === 'transactional_leader' || card.type === 'project_coordinator' || card.type === 'enterprise_innovator') {\n    const firstName = card.contact?.name.split(' ')[0] || card.sender?.name || 'there';\n    let body = 'Hi ' + firstName + ',\\n\\n';\n    \n    if (card.priority === 'critical') {\n      body += 'Thanks so much for your interest! I am really excited about the possibility of helping ' + (card.company?.name || 'you') + ' achieve your goals.\\n\\nI would love to schedule a demo where we can dive into your specific needs.\\n\\nI have a few times available:\\n• Tuesday, 2-4 PM\\n• Wednesday, 10 AM-12 PM\\n• Thursday, 1-3 PM\\n\\nLooking forward to our conversation!';\n    } else {\n      body += 'I hope you are doing well! I wanted to follow up on our conversation.\\n\\nDo you have time this week to discuss next steps?\\n\\nThanks again for considering us!';\n    }\n    \n    body += '\\n\\nBest';\n    \n    return {\n      subject: 'Re: ' + card.title,\n      to: card.dataSources[0]?.from || 'contact@company.com',\n      body: body,\n      hasAttachment: false\n    };\n  }\n  \n  return {\n    subject: 'Re: ' + card.title,\n    to: card.dataSources[0]?.from || 'contact@email.com',\n    body: 'Thank you for your message. I will review and get back to you shortly.\\n\\nBest regards',\n    hasAttachment: false\n  };\n};\n\nconst ShoppingActionModal = ({ card, onComplete, onCancel }) => {\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handleProceedToStore = () => {\n    setIsProcessing(true);\n    setTimeout(() => {\n      onComplete();\n    }, 800);\n  };\n\n  const loyaltyPoints = Math.floor(card.salePrice * 10);\n  const earnedMiles = Math.floor(card.salePrice * 2);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={(e) => {\n      if (e.target === e.currentTarget) onCancel();\n    }}>\n      <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl border border-slate-700\">\n        <div className=\"bg-gradient-to-r from-emerald-600 to-teal-600 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-md\">\n                <ShoppingBag className=\"text-white\" size={24} />\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold text-white\">Ready to Purchase</h2>\n                <p className=\"text-white/80 text-sm\">Everything pre-filled for you</p>\n              </div>\n            </div>\n            <button onClick={onCancel} className=\"text-white/80 hover:text-white\">\n              <X size={28} />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-4 overflow-y-auto max-h-[60vh]\">\n          <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-5\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              <div className=\"text-6xl\">{card.productImage}</div>\n              <div className=\"flex-1\">\n                <h3 className=\"text-white text-xl font-bold mb-1\">{card.title}</h3>\n                <p className=\"text-slate-400 text-sm\">{card.store}</p>\n              </div>\n            </div>\n            <div className=\"flex items-baseline gap-3 mb-3\">\n              <div className=\"text-white text-4xl font-bold\">${card.salePrice}</div>\n              <div className=\"text-slate-400 text-xl line-through\">${card.originalPrice}</div>\n              <div className=\"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-bold\">\n                {card.discount}% OFF\n              </div>\n            </div>\n          </div>\n\n          {card.promoCode && (\n            <div className=\"bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl p-4\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"text-slate-900 text-xs font-semibold mb-1\">PROMO CODE PRE-APPLIED</div>\n                  <div className=\"text-slate-900 text-2xl font-mono font-bold\">{card.promoCode}</div>\n                </div>\n                <div className=\"bg-white/30 text-slate-900 px-4 py-2 rounded-lg font-bold\">Applied</div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-5\">\n            <h3 className=\"text-white font-semibold mb-4 flex items-center gap-2\">\n              <Sparkles className=\"text-yellow-400\" size={20} />\n              You'll Earn\n            </h3>\n            <div className=\"space-y-3\">\n              <div className=\"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                  <Star className=\"text-blue-400\" size={20} />\n                  <div>\n                    <div className=\"text-white font-medium\">Loyalty Points</div>\n                    <div className=\"text-slate-400 text-xs\">Redeemable later</div>\n                  </div>\n                </div>\n                <div className=\"text-white text-xl font-bold\">{loyaltyPoints}</div>\n              </div>\n              <div className=\"flex items-center justify-between p-3 bg-slate-700/50 rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                  <Zap className=\"text-purple-400\" size={20} />\n                  <div>\n                    <div className=\"text-white font-medium\">Frequent Buyer Miles</div>\n                    <div className=\"text-slate-400 text-xs\">2x miles</div>\n                  </div>\n                </div>\n                <div className=\"text-white text-xl font-bold\">{earnedMiles}</div>\n              </div>\n            </div>\n          </div>\n\n          {card.urgent && (\n            <div className=\"bg-red-500/20 border border-red-500/50 rounded-xl p-4 flex items-center gap-3\">\n              <Clock className=\"text-red-400\" size={24} />\n              <div>\n                <div className=\"text-red-400 font-bold\">Expires in {card.expiresIn}</div>\n                <div className=\"text-slate-300 text-sm\">Lock in this price now</div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6 bg-slate-900/50 border-t border-slate-700 flex gap-3\">\n          <button type=\"button\" onClick={onCancel} className=\"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold\">\n            Maybe Later\n          </button>\n          <button type=\"button\" onClick={handleProceedToStore} disabled={isProcessing} className=\"flex-1 py-4 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2\">\n            {isProcessing ? (\n              <>\n                <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                Opening...\n              </>\n            ) : (\n              <>\n                <ExternalLink size={20} />\n                Go to {card.store}\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ReplyComposer = ({ card, onSend, onCancel }) => {\n  const [reply, setReply] = useState(generateReply(card));\n  const [isSending, setIsSending] = useState(false);\n  const [showFormPreview, setShowFormPreview] = useState(false);\n  const textareaRef = useRef(null);\n\n  useEffect(() => {\n    if (textareaRef.current) textareaRef.current.focus();\n  }, []);\n\n  const handleSend = () => {\n    setIsSending(true);\n    setTimeout(() => {\n      onSend();\n      setIsSending(false);\n    }, 500);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\" onClick={(e) => {\n      if (e.target === e.currentTarget) onCancel();\n    }}>\n      <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl border border-slate-700\">\n        <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center\">\n                <Mail className=\"text-white\" size={24} />\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold text-white\">Compose Reply</h2>\n                <p className=\"text-white/80 text-sm\">AI-generated, ready to edit</p>\n              </div>\n            </div>\n            <button onClick={onCancel} className=\"text-white/80 hover:text-white\">\n              <X size={28} />\n            </button>\n          </div>\n\n          {card.requiresSignature && (\n            <div className=\"bg-white/20 backdrop-blur-md rounded-xl p-3 flex items-center gap-3\">\n              <FileText className=\"text-white\" size={20} />\n              <div className=\"flex-1\">\n                <div className=\"text-white text-sm font-medium\">Form Auto-filled</div>\n                <div className=\"text-white/70 text-xs\">Digital signature included</div>\n              </div>\n              <button onClick={() => setShowFormPreview(!showFormPreview)} className=\"text-white/80 hover:text-white text-xs underline\">\n                {showFormPreview ? 'Hide' : 'Preview'}\n              </button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6 space-y-4 overflow-y-auto max-h-[60vh]\">\n          {showFormPreview && card.formFields && (\n            <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-4\">\n              <h3 className=\"text-white font-semibold mb-3 flex items-center gap-2\">\n                <Sparkles size={16} className=\"text-blue-400\" />\n                Auto-filled Form Data\n              </h3>\n              <div className=\"space-y-2\">\n                {card.formFields.map((field, i) => (\n                  <div key={i} className=\"flex justify-between text-sm\">\n                    <span className=\"text-slate-400\">{field.label}:</span>\n                    <span className=\"text-white font-medium\">{field.autoFillValue}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-slate-400 text-sm font-medium mb-2\">To</label>\n            <input type=\"email\" value={reply.to} onChange={(e) => setReply({ ...reply, to: e.target.value })} className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n          </div>\n\n          <div>\n            <label className=\"block text-slate-400 text-sm font-medium mb-2\">Subject</label>\n            <input type=\"text\" value={reply.subject} onChange={(e) => setReply({ ...reply, subject: e.target.value })} className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\" />\n          </div>\n\n          <div>\n            <div className=\"flex items-center justify-between mb-2\">\n              <label className=\"block text-slate-400 text-sm font-medium\">Message</label>\n              <div className=\"flex items-center gap-2 text-slate-500 text-xs\">\n                <Sparkles size={14} />\n                <span>AI-generated</span>\n              </div>\n            </div>\n            <textarea ref={textareaRef} value={reply.body} onChange={(e) => setReply({ ...reply, body: e.target.value })} className=\"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[250px] resize-none\" />\n          </div>\n\n          {reply.hasAttachment && (\n            <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-4 flex items-center gap-3\">\n              <Paperclip className=\"text-blue-400\" size={20} />\n              <div className=\"flex-1\">\n                <div className=\"text-white text-sm font-medium\">{reply.attachmentName}</div>\n                <div className=\"text-slate-400 text-xs\">Signed form attached</div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-6 bg-slate-900/50 border-t border-slate-700 flex gap-3\">\n          <button type=\"button\" onClick={onCancel} className=\"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold\">\n            Cancel\n          </button>\n          <button type=\"button\" onClick={handleSend} disabled={isSending} className=\"flex-1 py-4 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2\">\n            {isSending ? (\n              <>\n                <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                Sending...\n              </>\n            ) : (\n              <>\n                <Send size={20} />\n                Send Reply\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst generateInitialCards = () => {\n  const getTimeAgo = (daysAgo, hoursAgo = 0) => {\n    if (daysAgo === 0 && hoursAgo < 1) return 'Just now';\n    if (daysAgo === 0) return hoursAgo + 'h ago';\n    if (daysAgo === 1) return 'Yesterday';\n    if (daysAgo < 7) return daysAgo + 'd ago';\n    return Math.floor(daysAgo / 7) + 'w ago';\n  };\n\n  return [\n    // P1: Transactional Leader\n    { id: 'tl1', type: 'transactional_leader', state: 'unseen', priority: 'critical', hpa: 'Review & Approve', sender: { name: 'Finance Dept', initial: 'F' }, timeAgo: getTimeAgo(0, 1), title: 'Q4 Budget Approval Required', summary: 'Department budget requests need executive sign-off by EOD', metaCTA: 'Swipe Right: Quick Approve', dataSources: [{ subject: 'Budget Approval', from: 'finance@company.com', date: getTimeAgo(0, 1) }] },\n\n    { id: 'tl2', type: 'transactional_leader', state: 'unseen', priority: 'high', hpa: 'Auto-Route', sender: { name: 'HR Systems', initial: 'H' }, timeAgo: getTimeAgo(0, 3), title: 'New Hire Onboarding - Sarah Chen', summary: 'Final approval needed for new Engineering Manager start date', metaCTA: 'Swipe Right: Delegate to HR', dataSources: [{ subject: 'Onboarding Approval', from: 'hr@company.com', date: getTimeAgo(0, 3) }] },\n\n    // P2: Sales Hunter  \n    { id: 'sh1', type: 'sales_hunter', state: 'unseen', priority: 'critical', hpa: 'Schedule Demo', company: { name: 'TechCorp Industries', initials: 'TC' }, industry: 'SaaS', timeAgo: getTimeAgo(0, 3), score: 95, value: '$85K', probability: 90, contact: { name: 'Sarah Chen', initials: 'SC', role: 'VP Operations' }, summary: 'Ready to schedule demo, budget approved, decision timeline confirmed', metaCTA: 'Swipe Right: Send Demo Times', dataSources: [{ subject: 'Ready to Move Forward', from: 'sarah.chen@techcorp.com', date: getTimeAgo(0, 3) }] },\n\n    { id: 'sh2', type: 'sales_hunter', state: 'unseen', priority: 'critical', hpa: 'Route to CRM', company: { name: 'DataFlow Systems', initials: 'DF' }, industry: 'Analytics', timeAgo: getTimeAgo(0, 5), score: 88, value: '$120K', probability: 85, contact: { name: 'James Wilson', initials: 'JW', role: 'CTO' }, summary: 'RFP due Friday - requesting proposal submission', metaCTA: 'Swipe Right: Route to CRM & Tag Urgent', dataSources: [{ subject: 'RFP Submission', from: 'j.wilson@dataflow.com', date: getTimeAgo(0, 5) }] },\n\n    // P3: Project Coordinator\n    { id: 'pc1', type: 'project_coordinator', state: 'unseen', priority: 'critical', hpa: 'Schedule Review', project: { name: 'Website Redesign', code: 'WR-2024' }, client: { name: 'Acme Corp', initials: 'AC' }, timeAgo: getTimeAgo(0, 2), title: 'Client Milestone Review - Due Friday', summary: 'Design mockups need approval before development phase begins', metaCTA: 'Swipe Right: Schedule Review', dataSources: [{ subject: 'Milestone Approval', from: 'client@acme.com', date: getTimeAgo(0, 2) }] },\n\n    { id: 'pc2', type: 'project_coordinator', state: 'unseen', priority: 'high', hpa: 'File by Project', project: { name: 'Mobile App Launch', code: 'MAL-2024' }, client: { name: 'Beta Users', initials: 'B' }, timeAgo: getTimeAgo(0, 4), title: 'Beta Testing Feedback Summary', summary: '47 users submitted feedback, 3 critical bugs identified', metaCTA: 'Swipe Left: Tag & File by Project', dataSources: [{ subject: 'Beta Feedback', from: 'testing@company.com', date: getTimeAgo(0, 4) }] },\n\n    // P4: Enterprise Innovator\n    { id: 'ei1', type: 'enterprise_innovator', state: 'unseen', priority: 'medium', hpa: 'Save for Later', source: { name: 'MIT Tech Review', initials: 'MT' }, timeAgo: getTimeAgo(1), title: 'AI Trends Report Q4 2024', summary: 'Comprehensive analysis of emerging AI technologies and market applications', metaCTA: 'Swipe Left: Save for Deep Read', dataSources: [{ subject: 'Industry Newsletter', from: 'newsletter@mittr.com', date: getTimeAgo(1) }] },\n\n    { id: 'ei2', type: 'enterprise_innovator', state: 'unseen', priority: 'high', hpa: 'Express Interest', source: { name: 'Innovation Labs', initials: 'IL' }, timeAgo: getTimeAgo(0, 6), title: 'Partnership Opportunity - Stanford Research', summary: 'Joint research proposal on next-gen ML applications', metaCTA: 'Swipe Right: Express Interest', dataSources: [{ subject: 'Partnership Inquiry', from: 'labs@stanford.edu', date: getTimeAgo(0, 6) }] },\n\n    // C1: Time-Crunched Caregiver\n    { id: 'cc1', type: 'caregiver', state: 'unseen', priority: 'critical', hpa: 'Sign & Send', kid: { name: 'Sophie Martinez', initial: 'S', grade: '3rd Grade' }, timeAgo: getTimeAgo(0, 2), title: 'Field Trip Permission - Due Wednesday', summary: 'Museum visit Friday requires signed form by Wed 5 PM', metaCTA: 'Swipe Right: Quick Sign & Send', requiresSignature: true, formFields: [{ label: 'Student Name', autoFillValue: 'Sophie Martinez' }, { label: 'Parent/Guardian', autoFillValue: 'Parent Name' }, { label: 'Emergency Contact', autoFillValue: '(555) 123-4567' }], dataSources: [{ subject: 'Field Trip Permission', from: 'Mrs. Anderson', date: getTimeAgo(0, 2) }] },\n\n    { id: 'cc2', type: 'caregiver', state: 'unseen', priority: 'high', hpa: 'Acknowledge', kid: { name: 'Max Rodriguez', initial: 'M', grade: '6th Grade' }, timeAgo: getTimeAgo(0, 5), title: 'Assignment Past Due - Math Homework', summary: 'Homework from last week not submitted, submit by Friday for partial credit', metaCTA: 'Swipe Right: Acknowledge & Confirm', dataSources: [{ subject: 'Missing Assignment Alert', from: 'Mr. Thompson', date: getTimeAgo(0, 5) }] },\n\n    // C2: Savvy Deal Stacker\n    { id: 'ds1', type: 'deal_stacker', state: 'unseen', priority: 'high', hpa: 'Claim Deal', store: 'TechMart', timeAgo: getTimeAgo(0, 1), title: 'Flash Sale: Premium Headphones', productImage: 'Headphones', aiBackground: 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)', originalPrice: 299.99, salePrice: 149.99, discount: 50, urgent: true, expiresIn: '6 hours', metaCTA: 'Swipe Right: Claim Deal Now', promoCode: 'AUDIO50', features: ['50% off', 'Free shipping'], dataSources: [{ subject: 'FLASH SALE', from: 'deals@techmart.com', date: getTimeAgo(0, 1) }] },\n\n    { id: 'ds2', type: 'deal_stacker', state: 'unseen', priority: 'low', hpa: 'Not Interested', store: 'FashionHub', timeAgo: getTimeAgo(1), title: 'Extra 30% Off Fall Collection', productImage: 'Apparel', aiBackground: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', originalPrice: 120.00, salePrice: 59.99, discount: 50, urgent: false, expiresIn: '3 days', metaCTA: 'Swipe Left: Dismiss', features: ['Stacks with sale', 'Free shipping $50+'], dataSources: [{ subject: 'Fall Sale', from: 'style@fashionhub.com', date: getTimeAgo(1) }] },\n\n    // Add some low priority items to other archetypes\n    { id: 'tl3', type: 'transactional_leader', state: 'unseen', priority: 'low', hpa: 'File for Reference', sender: { name: 'IT Updates', initial: 'I' }, timeAgo: getTimeAgo(2), title: 'Monthly Security Report', summary: 'Routine security metrics and system updates for your review', metaCTA: 'Swipe Left: File for Reference', dataSources: [{ subject: 'Security Report', from: 'security@company.com', date: getTimeAgo(2) }] },\n\n    { id: 'cc3', type: 'caregiver', state: 'unseen', priority: 'low', hpa: 'Archive', kid: { name: 'Sophie Martinez', initial: 'S', grade: '3rd Grade' }, timeAgo: getTimeAgo(3), title: 'Weekly Newsletter', summary: 'School newsletter with upcoming events and general announcements', metaCTA: 'Swipe Left: Archive', dataSources: [{ subject: 'Weekly Newsletter', from: 'newsletter@school.edu', date: getTimeAgo(3) }] },\n\n    // C3: Global Status Seeker\n    { id: 'ss1', type: 'status_seeker', state: 'unseen', priority: 'critical', hpa: 'Check In Now', airline: 'United Airlines', timeAgo: getTimeAgo(0, 1), title: 'Flight Check-in Available - SFO to NYC', summary: 'Check in now for tomorrow\\'s 6:45 AM departure, upgrade available', metaCTA: 'Swipe Right: Check In & Upgrade', flightDetails: { number: 'UA 1234', from: 'SFO', to: 'JFK', date: 'Tomorrow 6:45 AM' }, dataSources: [{ subject: 'Check-in Available', from: 'united@airlines.com', date: getTimeAgo(0, 1) }] },\n\n    { id: 'ss2', type: 'status_seeker', state: 'unseen', priority: 'high', hpa: 'Enroll Now', airline: 'Marriott Bonvoy', timeAgo: getTimeAgo(0, 3), title: 'Elite Status Challenge Opportunity', summary: 'Fast-track to Platinum status with 10 qualifying stays', metaCTA: 'Swipe Right: Enroll Now', dataSources: [{ subject: 'Status Challenge', from: 'bonvoy@marriott.com', date: getTimeAgo(0, 3) }] },\n\n    // C4: Digital Identity Manager\n    { id: 'idm1', type: 'identity_manager', state: 'unseen', priority: 'critical', hpa: 'Verify Identity', service: 'Amazon', timeAgo: getTimeAgo(0, 0), title: 'Password Reset Request', summary: 'Someone requested a password reset for your account', metaCTA: 'Swipe Right: Verify Identity', security: true, expiresIn: '15 minutes', dataSources: [{ subject: 'Password Reset', from: 'security@amazon.com', date: getTimeAgo(0, 0) }] },\n\n    { id: 'idm2', type: 'identity_manager', state: 'unseen', priority: 'high', hpa: 'Confirm or Deny', service: 'PayPal', timeAgo: getTimeAgo(0, 2), title: 'New Device Login Detected', summary: 'Login from iPhone in San Francisco, CA', metaCTA: 'Swipe Right: Confirm or Deny', security: true, dataSources: [{ subject: 'Security Alert', from: 'security@paypal.com', date: getTimeAgo(0, 2) }] }\n  ];\n};\n\nconst Dashboard = ({ type, cards, onViewFeed }) => {\n  const typeCards = cards.filter(c => c.type === type && c.state !== 'dismissed');\n  const criticalCount = typeCards.filter(c => c.priority === 'critical').length;\n  const highCount = typeCards.filter(c => c.priority === 'high').length;\n  const unseenCount = typeCards.filter(c => c.state === 'unseen').length;\n\n  const configs = {\n    transactional_leader: { title: 'Executive Inbox', subtitle: 'Transactional Leader', icon: Briefcase, gradient: 'from-slate-800 via-slate-700 to-slate-900' },\n    sales_hunter: { title: 'Job (Sales)', subtitle: 'Sales Pipeline', icon: TrendingUp, gradient: 'from-slate-900 via-blue-900 to-indigo-900' },\n    project_coordinator: { title: 'Project Hub', subtitle: 'Project Coordinator', icon: Calendar, gradient: 'from-teal-700 via-cyan-700 to-blue-800' },\n    enterprise_innovator: { title: 'Learning Feed', subtitle: 'Learning', icon: Sparkles, gradient: 'from-purple-800 via-violet-800 to-indigo-900' },\n    caregiver: { title: 'Family Inbox', subtitle: 'Time-Crunched Caregiver', icon: Baby, gradient: 'from-indigo-600 via-purple-600 to-pink-600' },\n    deal_stacker: { title: 'Deals Inbox', subtitle: 'Savvy Deal Stacker', icon: ShoppingBag, gradient: 'from-emerald-600 via-teal-600 to-cyan-600' },\n    status_seeker: { title: 'Travel Hub', subtitle: 'Global Status Seeker', icon: Award, gradient: 'from-amber-600 via-orange-600 to-red-600' },\n    identity_manager: { title: 'Security Center', subtitle: 'Digital Identity Manager', icon: AlertTriangle, gradient: 'from-red-700 via-rose-700 to-pink-700' }\n  };\n\n  const config = configs[type];\n  const Icon = config.icon;\n\n  return (\n    <div className={'min-h-screen bg-gradient-to-br ' + config.gradient + ' p-6'}>\n      <div className=\"flex items-center gap-3 mb-6\">\n        <div className=\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/30\">\n          <Icon className=\"text-white\" size={28} />\n        </div>\n        <div>\n          <h1 className=\"text-3xl font-bold text-white\">{config.title}</h1>\n          <p className=\"text-white/70 text-sm\">{config.subtitle}</p>\n        </div>\n      </div>\n\n      <div className=\"bg-white/10 backdrop-blur-md rounded-2xl p-5 mb-6 border border-white/20 shadow-xl\">\n        <div className=\"text-white/80 text-sm mb-4 font-medium\">Priority Distribution</div>\n        <div className=\"space-y-4\">\n          <PriorityMeter level=\"critical\" label={'Critical (' + criticalCount + ')'} />\n          <PriorityMeter level=\"high\" label={'High (' + highCount + ')'} />\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-3 mb-6\">\n        <div className=\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\">\n          <div className=\"text-3xl font-bold text-white mb-1\">{criticalCount}</div>\n          <div className=\"text-white/70 text-sm\">Critical</div>\n        </div>\n        <div className=\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\">\n          <div className=\"text-3xl font-bold text-white mb-1\">{unseenCount}</div>\n          <div className=\"text-white/70 text-sm\">Unseen</div>\n        </div>\n        <div className=\"bg-white/15 backdrop-blur-md rounded-2xl p-4 border border-white/20\">\n          <div className=\"text-3xl font-bold text-white mb-1\">{typeCards.length}</div>\n          <div className=\"text-white/70 text-sm\">Total</div>\n        </div>\n      </div>\n\n      <button onClick={onViewFeed} className=\"w-full bg-white/20 backdrop-blur-md hover:bg-white/30 text-white py-4 rounded-2xl font-bold text-lg mb-4 border border-white/30 shadow-lg transition-all\">\n        View Feed ({typeCards.length} items)\n      </button>\n    </div>\n  );\n};\n\n// Helper functions\nconst extractDomain = (email) => {\n  try {\n    return email.split('@')[1]?.toLowerCase() || '';\n  } catch {\n    return '';\n  }\n};\n\nconst isPromotionalSender = (domain) => {\n  const promotionalKeywords = ['deals', 'offers', 'sale', 'promo', 'marketing', 'newsletter', 'noreply'];\n  return promotionalKeywords.some(keyword => domain.includes(keyword));\n};\n\nconst App = () => {\n  const [view, setView] = useState('feed');\n  const [activeType, setActiveType] = useState('caregiver');\n  const [cards, setCards] = useState(generateInitialCards());\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [showComposer, setShowComposer] = useState(false);\n  const [showShoppingModal, setShowShoppingModal] = useState(false);\n  const [showBottomSheet, setShowBottomSheet] = useState(false);\n  const [showFullEmail, setShowFullEmail] = useState(false);\n  const [showActionCustomizer, setShowActionCustomizer] = useState(false);\n  const [showSaveLater, setShowSaveLater] = useState(false);\n  const [showUnsubscribe, setShowUnsubscribe] = useState(false);\n  const [currentCard, setCurrentCard] = useState(null);\n  const [showUndo, setShowUndo] = useState(false);\n  const [lastAction, setLastAction] = useState(null);\n  const [skipTracker, setSkipTracker] = useState({}); // Track skips by sender domain\n  const [interactionCount, setInteractionCount] = useState(0); // Track user interactions for tutorial\n  const [demoMode, setDemoMode] = useState(true); // Demo vs real data mode\n  const [selectedAccount, setSelectedAccount] = useState('hanson@rationalework');\n  const [availableAccounts] = useState([\n    { email: 'hanson@rationalework', displayName: 'Hanson (Work)' },\n    { email: 'thematthanson@gmail.com', displayName: 'Matt (Personal)' }\n  ]);\n\n  const archetypes = ['caregiver', 'transactional_leader', 'sales_hunter', 'project_coordinator', 'enterprise_innovator', 'deal_stacker', 'status_seeker', 'identity_manager'];\n  const filteredCards = cards.filter(c => c.type === activeType && c.state !== 'dismissed' && c.state !== 'deleted' && c.state !== 'archived');\n\n  // Archetype configs for naming\n  const configs = {\n    transactional_leader: { title: 'Executive Inbox' },\n    sales_hunter: { title: 'Job (Sales)' },\n    project_coordinator: { title: 'Project Hub' },\n    enterprise_innovator: { title: 'Learning Feed' },\n    caregiver: { title: 'Family Inbox' },\n    deal_stacker: { title: 'Deals Inbox' },\n    status_seeker: { title: 'Travel Hub' },\n    identity_manager: { title: 'Security Center' }\n  };\n\n  const SNAP_THRESHOLD = 200;\n  const SNAP_ZONE = 20;\n\n  // Load emails when mode or account changes\n  useEffect(() => {\n    const loadEmails = async () => {\n      try {\n        emailAdapter.setDemoMode(demoMode);\n        if (!demoMode) {\n          emailAdapter.setUserEmail(selectedAccount);\n        }\n        \n        const emails = await emailAdapter.getEmails(50);\n        setCards(emails);\n        setCurrentIndex(0);\n      } catch (error) {\n        console.error('Error loading emails:', error);\n        // Fallback to demo mode on error\n        setDemoMode(true);\n        setCards(generateInitialCards());\n      }\n    };\n\n    loadEmails();\n  }, [demoMode, selectedAccount]);\n\n  useEffect(() => {\n    if (view === 'feed' && filteredCards[currentIndex]) {\n      const card = filteredCards[currentIndex];\n      if (card.state === 'unseen') {\n        setCards(prev => prev.map(c => c.id === card.id ? { ...c, state: 'seen' } : c));\n      }\n    }\n  }, [currentIndex, view, filteredCards]);\n\n  const switchArchetype = (direction) => {\n    const currentIdx = archetypes.indexOf(activeType);\n    let newIdx;\n    \n    if (direction === 'next') {\n      newIdx = (currentIdx + 1) % archetypes.length;\n    } else {\n      newIdx = (currentIdx - 1 + archetypes.length) % archetypes.length;\n    }\n    \n    setActiveType(archetypes[newIdx]);\n    setCurrentIndex(0);\n  };\n\n  const handleUndo = () => {\n    if (lastAction) {\n      setCards(prev => prev.map(c => \n        c.id === lastAction.cardId ? { ...c, state: lastAction.previousState } : c\n      ));\n      setShowUndo(false);\n      setLastAction(null);\n    }\n  };\n\n  const handleSwipeAction = (direction, isLong) => {\n    const card = filteredCards[currentIndex];\n    if (!card) return;\n\n    let newState;\n    let actionLabel;\n\n    if (direction === 'right') {\n      if (isLong) {\n        // Long right = Action Modal (for complex actions)\n        if (card.type === 'deal_stacker' || card.type === 'status_seeker') {\n          setCurrentCard(card);\n          setShowShoppingModal(true);\n          return;\n        } else {\n          setCurrentCard(card);\n          setShowComposer(true);\n          return;\n        }\n      } else {\n        // Short right = Mark as Read (safe action)\n        newState = 'read';\n        actionLabel = '👁️ Marked as Read';\n      }\n    } else if (direction === 'left') {\n      // Track skips for unsubscribe detection\n      if (!isLong) {\n        const senderDomain = extractDomain(card.dataSources[0]?.from || '');\n        if (senderDomain) {\n          const newSkipCount = (skipTracker[senderDomain] || 0) + 1;\n          setSkipTracker(prev => ({ ...prev, [senderDomain]: newSkipCount }));\n          \n          // Check if we should show unsubscribe modal\n          if (newSkipCount >= 3 && isPromotionalSender(senderDomain)) {\n            setCurrentCard({ ...card, senderDomain, skipCount: newSkipCount });\n            setShowUnsubscribe(true);\n            return;\n          }\n        }\n      }\n\n      if (isLong) {\n        newState = 'dismissed';\n        actionLabel = '✕ Dismissed';\n      } else {\n        newState = 'processed';\n        actionLabel = '✓ Processed';\n      }\n    }\n\n    setLastAction({\n      cardId: card.id,\n      previousState: card.state,\n      action: actionLabel\n    });\n\n    setCards(prev => prev.map(c => c.id === card.id ? { ...c, state: newState } : c));\n    \n    // Increment interaction count for tutorial fade\n    setInteractionCount(prev => prev + 1);\n    \n    setShowUndo(true);\n    setTimeout(() => setShowUndo(false), 3000);\n\n    moveToNext();\n  };\n\n  const moveToNext = () => {\n    setTimeout(() => {\n      if (currentIndex < filteredCards.length - 1) {\n        setCurrentIndex(prev => prev + 1);\n      } else {\n        switchArchetype('next');\n      }\n    }, 300);\n  };\n\n  const handleSendReply = () => {\n    setCards(prev => prev.map(c => c.id === currentCard.id ? { ...c, state: 'replied' } : c));\n    setShowComposer(false);\n    setCurrentCard(null);\n    moveToNext();\n  };\n\n  const handleShoppingComplete = () => {\n    setCards(prev => prev.map(c => c.id === currentCard.id ? { ...c, state: 'converted' } : c));\n    setShowShoppingModal(false);\n    setCurrentCard(null);\n    moveToNext();\n  };\n\n  const handleCustomizeAction = (card) => {\n    setCurrentCard(card);\n    setShowActionCustomizer(true);\n  };\n\n  const handleSaveAction = (newAction) => {\n    if (currentCard) {\n      setCards(prev => prev.map(c => \n        c.id === currentCard.id ? { ...c, hpa: newAction } : c\n      ));\n    }\n    setShowActionCustomizer(false);\n    setCurrentCard(null);\n  };\n\n  const handleSaveLater = (snoozeData) => {\n    if (currentCard) {\n      setCards(prev => prev.map(c => \n        c.id === currentCard.id ? { ...c, state: 'snoozed', snoozeUntil: snoozeData.scheduledFor } : c\n      ));\n    }\n    setShowSaveLater(false);\n    setCurrentCard(null);\n    moveToNext();\n  };\n\n  const handleDragStart = (e) => {\n    const clientX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;\n    const clientY = e.type === 'mousedown' ? e.clientY : e.touches[0].clientY;\n    setDragStart({ x: clientX, y: clientY });\n    setIsDragging(true);\n  };\n\n  const handleDragMove = (e) => {\n    if (!isDragging) return;\n    \n    const clientX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;\n    const clientY = e.type === 'mousemove' ? e.clientY : e.touches[0].clientY;\n    \n    let offsetX = clientX - dragStart.x;\n    const offsetY = clientY - dragStart.y;\n\n    const absOffsetX = Math.abs(offsetX);\n    const prevAbsOffsetX = Math.abs(dragOffset.x);\n    \n    // Magnetic snapping with haptic feedback\n    if (absOffsetX > SNAP_THRESHOLD - SNAP_ZONE && absOffsetX < SNAP_THRESHOLD + SNAP_ZONE) {\n      const snapDirection = offsetX > 0 ? 1 : -1;\n      offsetX = (SNAP_THRESHOLD + 10) * snapDirection;\n      \n      if (prevAbsOffsetX < SNAP_THRESHOLD - SNAP_ZONE || prevAbsOffsetX > SNAP_THRESHOLD + SNAP_ZONE) {\n        if (navigator.vibrate) {\n          navigator.vibrate(10);\n        }\n      }\n    }\n    \n    // Haptic feedback at short swipe threshold\n    if (absOffsetX > 100 && prevAbsOffsetX <= 100) {\n      if (navigator.vibrate) {\n        navigator.vibrate(5);\n      }\n    }\n\n    setDragOffset({ x: offsetX, y: offsetY });\n  };\n\n  const handleDragEnd = () => {\n    setIsDragging(false);\n    const isHorizontal = Math.abs(dragOffset.x) > Math.abs(dragOffset.y);\n    const isLongSwipe = Math.abs(dragOffset.x) > 200;\n\n    if (isHorizontal && Math.abs(dragOffset.x) > 100) {\n      // Haptic feedback on action confirmation\n      if (navigator.vibrate) {\n        if (isLongSwipe) {\n          navigator.vibrate([15, 10, 15]);\n        } else {\n          navigator.vibrate(20);\n        }\n      }\n      handleSwipeAction(dragOffset.x > 0 ? 'right' : 'left', isLongSwipe);\n    } else if (!isHorizontal && Math.abs(dragOffset.y) > 100) {\n      if (dragOffset.y < 0) {\n        setCurrentIndex(prev => Math.min(prev + 1, filteredCards.length - 1));\n      } else {\n        setCurrentIndex(prev => Math.max(prev - 1, 0));\n      }\n    }\n\n    setDragOffset({ x: 0, y: 0 });\n  };\n\n  // Dashboard view with archetype selection\n  if (view === 'dashboard') {\n    const archetypeGroups = [\n      { label: 'Professional', archetypes: [\n        { id: 'transactional_leader', label: 'Executive', icon: Briefcase },\n        { id: 'sales_hunter', label: 'Job (Sales)', icon: TrendingUp },\n        { id: 'project_coordinator', label: 'Projects', icon: Calendar },\n        { id: 'enterprise_innovator', label: 'Learning', icon: Sparkles }\n      ]},\n      { label: 'Consumer', archetypes: [\n        { id: 'caregiver', label: 'Family', icon: Baby },\n        { id: 'deal_stacker', label: 'Shopping', icon: ShoppingBag },\n        { id: 'status_seeker', label: 'Travel', icon: Award },\n        { id: 'identity_manager', label: 'Security', icon: AlertTriangle }\n      ]}\n    ];\n\n    return (\n      <div className=\"w-full h-screen bg-slate-950 overflow-y-auto\">\n        <div className=\"bg-slate-900 border-b border-slate-800 sticky top-0 z-10\">\n          <div className=\"max-w-6xl mx-auto px-4 py-4\">\n            <h2 className=\"text-white text-lg font-bold mb-3\">Select Archetype</h2>\n            {archetypeGroups.map((group) => (\n              <div key={group.label} className=\"mb-4\">\n                <div className=\"text-slate-400 text-xs font-semibold mb-2 uppercase tracking-wide\">{group.label}</div>\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2\">\n                  {group.archetypes.map((type) => {\n                    const Icon = type.icon;\n                    const typeCards = cards.filter(c => c.type === type.id && c.state !== 'dismissed');\n                    return (\n                      <button \n                        key={type.id} \n                        onClick={() => setActiveType(type.id)} \n                        className={'flex flex-col items-center justify-center gap-2 py-4 px-3 rounded-xl font-medium transition-all ' + (activeType === type.id ? 'bg-blue-600 text-white scale-105' : 'bg-slate-800 text-slate-400 hover:bg-slate-700')}\n                      >\n                        <Icon size={20} />\n                        <span className=\"text-sm\">{type.label}</span>\n                        <span className=\"text-xs opacity-70\">{typeCards.length}</span>\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <Dashboard type={activeType} cards={cards} onViewFeed={() => setView('feed')} />\n      </div>\n    );\n  }\n\n  // Inbox Zero state\n  if (filteredCards.length === 0) {\n    return (\n      <div className=\"w-full h-screen bg-slate-950 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <CheckCircle size={64} className=\"text-green-500 mx-auto mb-4\" />\n          <h2 className=\"text-2xl font-bold text-white mb-2\">Inbox Zero!</h2>\n          <p className=\"text-slate-400 mb-4\">All {activeType} items processed</p>\n          <div className=\"flex gap-3 justify-center\">\n            <button onClick={() => setView('dashboard')} className=\"bg-slate-700 text-white px-6 py-3 rounded-xl font-semibold\">\n              Dashboard\n            </button>\n            <button onClick={() => switchArchetype('next')} className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold\">\n              Next Archetype\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Calculate progress\n  const totalEmails = cards.length;\n  const processedEmails = cards.filter(c => ['read', 'processed', 'dismissed', 'replied', 'converted'].includes(c.state)).length;\n\n  // Main swipe feed\n  return (\n    <div className=\"w-full h-screen bg-slate-950\">\n      {/* Data Mode Toggle */}\n      <DataModeToggle\n        demoMode={demoMode}\n        onToggle={setDemoMode}\n        availableAccounts={availableAccounts}\n        selectedAccount={selectedAccount}\n        onAccountChange={setSelectedAccount}\n        isAuthenticated={true} // Will check real auth status later\n      />\n\n      {/* Global Progress Counter */}\n      <ProgressCounter \n        totalEmails={totalEmails} \n        processedEmails={processedEmails} \n        currentArchetype={activeType}\n        archetypeName={configs[activeType]?.title || 'Unknown'}\n        onOpenBottomSheet={() => setShowBottomSheet(true)}\n        onPrevArchetype={() => switchArchetype('prev')}\n        onNextArchetype={() => switchArchetype('next')}\n      />\n\n      {/* Modals */}\n      {showComposer && currentCard && <ReplyComposer card={currentCard} onSend={handleSendReply} onCancel={() => { setShowComposer(false); setCurrentCard(null); }} />}\n      {showShoppingModal && currentCard && <ShoppingActionModal card={currentCard} onComplete={handleShoppingComplete} onCancel={() => { setShowShoppingModal(false); setCurrentCard(null); }} />}\n      {showBottomSheet && <BottomSheet isOpen={showBottomSheet} onClose={() => setShowBottomSheet(false)} activeArchetype={activeType} onArchetypeChange={setActiveType} cards={cards} currentEmail={filteredCards[currentIndex]} />}\n      {showFullEmail && currentCard && <FullEmailView email={currentCard} onClose={() => { setShowFullEmail(false); setCurrentCard(null); }} onReply={() => { setShowFullEmail(false); setShowComposer(true); }} onArchive={() => { setShowFullEmail(false); handleSwipeAction('left', false); }} onDelete={() => { setShowFullEmail(false); handleSwipeAction('left', true); }} />}\n      {showActionCustomizer && currentCard && <ActionCustomizer email={currentCard} currentAction={currentCard.hpa} onSave={handleSaveAction} onCancel={() => { setShowActionCustomizer(false); setCurrentCard(null); }} />}\n      {showSaveLater && currentCard && <SaveLaterModal email={currentCard} onSave={handleSaveLater} onCancel={() => { setShowSaveLater(false); setCurrentCard(null); }} />}\n      {showUnsubscribe && currentCard && <UnsubscribeModal senderInfo={{ domain: currentCard.senderDomain, email: currentCard.dataSources[0]?.from }} skipCount={currentCard.skipCount} onUnsubscribe={() => { setShowUnsubscribe(false); setCurrentCard(null); }} onHide={() => { setShowUnsubscribe(false); setCurrentCard(null); }} onKeep={() => { setShowUnsubscribe(false); setCurrentCard(null); }} onCancel={() => { setShowUnsubscribe(false); setCurrentCard(null); }} />}\n\n      {showUndo && lastAction && (\n        <div className=\"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-slate-800 backdrop-blur-md text-white px-6 py-4 rounded-2xl shadow-2xl border border-slate-700 flex items-center gap-4\">\n          <span>{lastAction.action}</span>\n          <button onClick={handleUndo} className=\"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-semibold\">\n            Undo\n          </button>\n        </div>\n      )}\n\n      <div className=\"relative w-full h-full\" onMouseDown={handleDragStart} onMouseMove={handleDragMove} onMouseUp={handleDragEnd} onTouchStart={handleDragStart} onTouchMove={handleDragMove} onTouchEnd={handleDragEnd}>\n        {filteredCards.map((card, index) => {\n          const offset = (index - currentIndex) * 100;\n          const adjustedOffsetY = offset + (isDragging ? (dragOffset.y / window.innerHeight) * 100 : 0);\n          const adjustedOffsetX = isDragging ? dragOffset.x : 0;\n          const isHorizontal = Math.abs(dragOffset.x) > Math.abs(dragOffset.y);\n          const rotation = isDragging && index === currentIndex ? (dragOffset.x / 20) : 0;\n          \n          return (\n            <div key={card.id} className=\"absolute inset-0\" style={{ \n              transform: 'translateY(' + adjustedOffsetY + '%) translateX(' + adjustedOffsetX + 'px) rotate(' + rotation + 'deg) scale(' + (1 - Math.abs(index - currentIndex) * 0.05) + ')', \n              opacity: Math.abs(index - currentIndex) > 1 ? 0 : 1, \n              zIndex: filteredCards.length - Math.abs(index - currentIndex), \n              transition: isDragging ? 'none' : 'transform 0.3s, opacity 0.3s' \n            }}>\n              <div className=\"w-full h-full max-w-2xl mx-auto p-4\">\n                <div className=\"relative h-full\">\n                  {(card.type === 'caregiver') && <ParentCard card={card} isSeen={card.state !== 'unseen'} onViewEmail={() => { setCurrentCard(card); setShowFullEmail(true); }} onCustomizeAction={handleCustomizeAction} />}\n                  \n                  {(card.type === 'sales_hunter' || card.type === 'transactional_leader' || card.type === 'project_coordinator' || card.type === 'enterprise_innovator' || card.type === 'identity_manager') && <BusinessCard card={card} isSeen={card.state !== 'unseen'} onViewEmail={() => { setCurrentCard(card); setShowFullEmail(true); }} onCustomizeAction={handleCustomizeAction} />}\n                  \n                  {(card.type === 'deal_stacker' || card.type === 'status_seeker') && <ShoppingCard card={card} isSeen={card.state !== 'unseen'} onViewEmail={() => { setCurrentCard(card); setShowFullEmail(true); }} onCustomizeAction={handleCustomizeAction} />}\n\n                  {index === currentIndex && isHorizontal && Math.abs(dragOffset.x) > 50 && (\n                    <SwipeActionOverlay direction={dragOffset.x > 0 ? 'right' : 'left'} cardType={card.type} swipeDistance={dragOffset.x} />\n                  )}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n\n        {/* Tutorial Instructions - Only show for first 3 interactions */}\n        {interactionCount < 3 && (\n          <div \n            className=\"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 backdrop-blur-md px-6 py-2 rounded-full text-white text-xs z-50 border border-white/20 transition-opacity duration-500\"\n            style={{ opacity: Math.max(0, 1 - (interactionCount / 3)) }}\n          >\n            👁️ Right: Mark Seen • ✓ Left: Done • Long Swipe: Action/Skip\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}