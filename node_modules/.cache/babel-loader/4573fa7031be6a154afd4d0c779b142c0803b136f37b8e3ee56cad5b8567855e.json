{"ast":null,"code":"import React,{useState}from'react';import{X,Mail,AlertTriangle,Check,Clock}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const UnsubscribeModal=_ref=>{let{senderInfo,skipCount,onUnsubscribe,onHide,onKeep,onCancel}=_ref;const[isProcessing,setIsProcessing]=useState(false);const handleUnsubscribe=async()=>{setIsProcessing(true);try{await onUnsubscribe();}finally{setIsProcessing(false);}};const getSenderName=()=>{if(senderInfo.domain){return senderInfo.domain.replace(/^(deals|offers|newsletter|noreply)\\./,'').replace('.com','');}return senderInfo.name||'this sender';};const getContentType=()=>{const domain=senderInfo.domain||'';if(domain.includes('deals')||domain.includes('offers')||domain.includes('sale')){return'promotional emails';}if(domain.includes('newsletter')||domain.includes('news')){return'newsletters';}if(domain.includes('noreply')||domain.includes('no-reply')){return'automated emails';}return'emails';};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-md overflow-hidden shadow-2xl border border-slate-700\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-orange-600 to-red-600 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center\",children:/*#__PURE__*/_jsx(Mail,{className:\"text-white\",size:24})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Unsubscribe?\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white/80 text-sm\",children:[\"You've skipped \",skipCount,\" emails\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,className:\"text-white/80 hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:28})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-3\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"text-orange-400\",size:20}),/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-semibold\",children:\"Pattern Detected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-300 text-sm leading-relaxed\",children:[\"You've skipped \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-bold\",children:[skipCount,\" \",getContentType()]}),\" from\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:getSenderName()}),\" recently.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-white font-semibold mb-2\",children:[\"From: \",getSenderName()]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-sm\",children:senderInfo.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-slate-400 text-xs mt-1\",children:[\"Content type: \",getContentType()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleUnsubscribe,disabled:isProcessing,className:\"w-full p-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\",children:isProcessing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"}),\"Unsubscribing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(X,{size:18}),\"Unsubscribe from \",getSenderName()]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>onHide(30),className:\"w-full p-4 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\",children:[/*#__PURE__*/_jsx(Clock,{size:18}),\"Hide for 30 days\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onKeep,className:\"w-full p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\",children:[/*#__PURE__*/_jsx(Check,{size:18}),\"Keep showing these\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-slate-400 text-xs\",children:\"This won't affect your Gmail inbox - only what you see in SwipeFeed\"})})]})]})});};","map":{"version":3,"names":["React","useState","X","Mail","AlertTriangle","Check","Clock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UnsubscribeModal","_ref","senderInfo","skipCount","onUnsubscribe","onHide","onKeep","onCancel","isProcessing","setIsProcessing","handleUnsubscribe","getSenderName","domain","replace","name","getContentType","includes","className","children","size","onClick","email","disabled"],"sources":["/Users/matthanson/EmailShortForm_01/swipe-app/src/components/UnsubscribeModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { X, Mail, AlertTriangle, Check, Clock } from 'lucide-react';\n\nexport const UnsubscribeModal = ({ senderInfo, skipCount, onUnsubscribe, onHide, onKeep, onCancel }) => {\n  const [isProcessing, setIsProcessing] = useState(false);\n\n  const handleUnsubscribe = async () => {\n    setIsProcessing(true);\n    try {\n      await onUnsubscribe();\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n\n  const getSenderName = () => {\n    if (senderInfo.domain) {\n      return senderInfo.domain.replace(/^(deals|offers|newsletter|noreply)\\./, '').replace('.com', '');\n    }\n    return senderInfo.name || 'this sender';\n  };\n\n  const getContentType = () => {\n    const domain = senderInfo.domain || '';\n    if (domain.includes('deals') || domain.includes('offers') || domain.includes('sale')) {\n      return 'promotional emails';\n    }\n    if (domain.includes('newsletter') || domain.includes('news')) {\n      return 'newsletters';\n    }\n    if (domain.includes('noreply') || domain.includes('no-reply')) {\n      return 'automated emails';\n    }\n    return 'emails';\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-gradient-to-br from-slate-900 to-slate-800 rounded-3xl w-full max-w-md overflow-hidden shadow-2xl border border-slate-700\">\n        <div className=\"bg-gradient-to-r from-orange-600 to-red-600 p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center\">\n                <Mail className=\"text-white\" size={24} />\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold text-white\">Unsubscribe?</h2>\n                <p className=\"text-white/80 text-sm\">You've skipped {skipCount} emails</p>\n              </div>\n            </div>\n            <button onClick={onCancel} className=\"text-white/80 hover:text-white\">\n              <X size={28} />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6\">\n          {/* Pattern Detection */}\n          <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-6\">\n            <div className=\"flex items-center gap-3 mb-3\">\n              <AlertTriangle className=\"text-orange-400\" size={20} />\n              <div className=\"text-white font-semibold\">Pattern Detected</div>\n            </div>\n            <div className=\"text-slate-300 text-sm leading-relaxed\">\n              You've skipped <span className=\"text-white font-bold\">{skipCount} {getContentType()}</span> from{' '}\n              <span className=\"text-white font-bold\">{getSenderName()}</span> recently.\n            </div>\n          </div>\n\n          {/* Sender Info */}\n          <div className=\"bg-slate-800 border border-slate-700 rounded-xl p-4 mb-6\">\n            <div className=\"text-white font-semibold mb-2\">From: {getSenderName()}</div>\n            <div className=\"text-slate-400 text-sm\">{senderInfo.email}</div>\n            <div className=\"text-slate-400 text-xs mt-1\">\n              Content type: {getContentType()}\n            </div>\n          </div>\n\n          {/* Options */}\n          <div className=\"space-y-3\">\n            <button\n              onClick={handleUnsubscribe}\n              disabled={isProcessing}\n              className=\"w-full p-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\"\n            >\n              {isProcessing ? (\n                <>\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                  Unsubscribing...\n                </>\n              ) : (\n                <>\n                  <X size={18} />\n                  Unsubscribe from {getSenderName()}\n                </>\n              )}\n            </button>\n\n            <button\n              onClick={() => onHide(30)}\n              className=\"w-full p-4 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\"\n            >\n              <Clock size={18} />\n              Hide for 30 days\n            </button>\n\n            <button\n              onClick={onKeep}\n              className=\"w-full p-4 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-semibold flex items-center justify-center gap-2 transition-all\"\n            >\n              <Check size={18} />\n              Keep showing these\n            </button>\n          </div>\n\n          <div className=\"mt-4 text-center\">\n            <div className=\"text-slate-400 text-xs\">\n              This won't affect your Gmail inbox - only what you see in SwipeFeed\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,CAAC,CAAEC,IAAI,CAAEC,aAAa,CAAEC,KAAK,CAAEC,KAAK,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpE,MAAO,MAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAwE,IAAvE,CAAEC,UAAU,CAAEC,SAAS,CAAEC,aAAa,CAAEC,MAAM,CAAEC,MAAM,CAAEC,QAAS,CAAC,CAAAN,IAAA,CACjG,KAAM,CAACO,YAAY,CAAEC,eAAe,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAEvD,KAAM,CAAAsB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpCD,eAAe,CAAC,IAAI,CAAC,CACrB,GAAI,CACF,KAAM,CAAAL,aAAa,CAAC,CAAC,CACvB,CAAC,OAAS,CACRK,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CAED,KAAM,CAAAE,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAIT,UAAU,CAACU,MAAM,CAAE,CACrB,MAAO,CAAAV,UAAU,CAACU,MAAM,CAACC,OAAO,CAAC,sCAAsC,CAAE,EAAE,CAAC,CAACA,OAAO,CAAC,MAAM,CAAE,EAAE,CAAC,CAClG,CACA,MAAO,CAAAX,UAAU,CAACY,IAAI,EAAI,aAAa,CACzC,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAH,MAAM,CAAGV,UAAU,CAACU,MAAM,EAAI,EAAE,CACtC,GAAIA,MAAM,CAACI,QAAQ,CAAC,OAAO,CAAC,EAAIJ,MAAM,CAACI,QAAQ,CAAC,QAAQ,CAAC,EAAIJ,MAAM,CAACI,QAAQ,CAAC,MAAM,CAAC,CAAE,CACpF,MAAO,oBAAoB,CAC7B,CACA,GAAIJ,MAAM,CAACI,QAAQ,CAAC,YAAY,CAAC,EAAIJ,MAAM,CAACI,QAAQ,CAAC,MAAM,CAAC,CAAE,CAC5D,MAAO,aAAa,CACtB,CACA,GAAIJ,MAAM,CAACI,QAAQ,CAAC,SAAS,CAAC,EAAIJ,MAAM,CAACI,QAAQ,CAAC,UAAU,CAAC,CAAE,CAC7D,MAAO,kBAAkB,CAC3B,CACA,MAAO,QAAQ,CACjB,CAAC,CAED,mBACErB,IAAA,QAAKsB,SAAS,CAAC,sFAAsF,CAAAC,QAAA,cACnGrB,KAAA,QAAKoB,SAAS,CAAC,8HAA8H,CAAAC,QAAA,eAC3IvB,IAAA,QAAKsB,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAC9DrB,KAAA,QAAKoB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDrB,KAAA,QAAKoB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCvB,IAAA,QAAKsB,SAAS,CAAC,oFAAoF,CAAAC,QAAA,cACjGvB,IAAA,CAACL,IAAI,EAAC2B,SAAS,CAAC,YAAY,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,CACtC,CAAC,cACNtB,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAIsB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,cAAY,CAAI,CAAC,cAC/DrB,KAAA,MAAGoB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,iBAAe,CAACf,SAAS,CAAC,SAAO,EAAG,CAAC,EACvE,CAAC,EACH,CAAC,cACNR,IAAA,WAAQyB,OAAO,CAAEb,QAAS,CAACU,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cACnEvB,IAAA,CAACN,CAAC,EAAC8B,IAAI,CAAE,EAAG,CAAE,CAAC,CACT,CAAC,EACN,CAAC,CACH,CAAC,cAENtB,KAAA,QAAKoB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAElBrB,KAAA,QAAKoB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvErB,KAAA,QAAKoB,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CvB,IAAA,CAACJ,aAAa,EAAC0B,SAAS,CAAC,iBAAiB,CAACE,IAAI,CAAE,EAAG,CAAE,CAAC,cACvDxB,IAAA,QAAKsB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,kBAAgB,CAAK,CAAC,EAC7D,CAAC,cACNrB,KAAA,QAAKoB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,EAAC,iBACvC,cAAArB,KAAA,SAAMoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,EAAEf,SAAS,CAAC,GAAC,CAACY,cAAc,CAAC,CAAC,EAAO,CAAC,QAAK,CAAC,GAAG,cACpGpB,IAAA,SAAMsB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEP,aAAa,CAAC,CAAC,CAAO,CAAC,aACjE,EAAK,CAAC,EACH,CAAC,cAGNd,KAAA,QAAKoB,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvErB,KAAA,QAAKoB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,EAAC,QAAM,CAACP,aAAa,CAAC,CAAC,EAAM,CAAC,cAC5EhB,IAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEhB,UAAU,CAACmB,KAAK,CAAM,CAAC,cAChExB,KAAA,QAAKoB,SAAS,CAAC,6BAA6B,CAAAC,QAAA,EAAC,gBAC7B,CAACH,cAAc,CAAC,CAAC,EAC5B,CAAC,EACH,CAAC,cAGNlB,KAAA,QAAKoB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBvB,IAAA,WACEyB,OAAO,CAAEV,iBAAkB,CAC3BY,QAAQ,CAAEd,YAAa,CACvBS,SAAS,CAAC,kIAAkI,CAAAC,QAAA,CAE3IV,YAAY,cACXX,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,QAAKsB,SAAS,CAAC,2EAA2E,CAAM,CAAC,mBAEnG,EAAE,CAAC,cAEHpB,KAAA,CAAAE,SAAA,EAAAmB,QAAA,eACEvB,IAAA,CAACN,CAAC,EAAC8B,IAAI,CAAE,EAAG,CAAE,CAAC,oBACE,CAACR,aAAa,CAAC,CAAC,EACjC,CACH,CACK,CAAC,cAETd,KAAA,WACEuB,OAAO,CAAEA,CAAA,GAAMf,MAAM,CAAC,EAAE,CAAE,CAC1BY,SAAS,CAAC,sIAAsI,CAAAC,QAAA,eAEhJvB,IAAA,CAACF,KAAK,EAAC0B,IAAI,CAAE,EAAG,CAAE,CAAC,mBAErB,EAAQ,CAAC,cAETtB,KAAA,WACEuB,OAAO,CAAEd,MAAO,CAChBW,SAAS,CAAC,sIAAsI,CAAAC,QAAA,eAEhJvB,IAAA,CAACH,KAAK,EAAC2B,IAAI,CAAE,EAAG,CAAE,CAAC,qBAErB,EAAQ,CAAC,EACN,CAAC,cAENxB,IAAA,QAAKsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BvB,IAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,qEAExC,CAAK,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}